<!doctype html>
<html lang="en">
  <!-- type: head.html -->
  <head>
    <meta charset="utf-8">
    
    

    
        <meta name="image" content="https://martin-thoma.com/images/logos/swi-prolog.png" />
        <meta name="thumbnail" content="//martin-thoma.com/images/logos/swi-prolog.png" />
        <meta property="og:image" content="//martin-thoma.com/images/logos/swi-prolog.png" />
    

    <meta property="og:type" content="blog"/>

    <title>Prolog</title>
    <meta property="og:title" content="Prolog" />
    <meta property="og:url" content="//martin-thoma.com/prolog" />
    <link rel="stylesheet" href="//martin-thoma.com/css/screen.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="//martin-thoma.com/css/style.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="//martin-thoma.com/css/pygments.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="//martin-thoma.com/css/tocplus-screen.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="//martin-thoma.com/css/print.css" type="text/css" media="print" />
    <link rel="stylesheet" href="//martin-thoma.com/css/handheld.css" type="text/css" media="only screen and (max-width: 480px)" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="alternate" type="application/rss+xml" title="Martin Thoma RSS Feed" href="//martin-thoma.com/feed/" /><!--TODO-->
    <link rel="shortcut icon" href="//martin-thoma.com/favicon.ico" type="image/x-icon" />

    <link rel="canonical" href="//martin-thoma.com/prolog" />
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:site" content="@themoosemind"/>
<meta name="twitter:creator" content="@themoosemind"/>
<meta name="twitter:title" content="Prolog"/>

    <meta name="twitter:description" content="A blog about Code, the Web and Cyberculture" />


    <meta name="twitter:image" content="//martin-thoma.com/images/logos/swi-prolog.png"/>



<meta name="twitter:url" content="//martin-thoma.com/prolog"/>
<meta name="twitter:domain" content="Martin Thoma.com"/>


    <script type='text/javascript' src="//martin-thoma.com/js/jquery.js"></script>
    <script type='text/javascript' src="//martin-thoma.com/js/jquery-migrate.min.js"></script>
    <style type="text/css">div#toc_container {width: 275px;}</style>
    <style type="text/css" id="syntaxhighlighteranchor"></style>

<!-- MathJax -->
<script type="text/x-mathjax-config">
<!--
MathJax.Hub.Config({
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [ ['$$', '$$'], ['\\[','\\]']],
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
    processEscapes: true
  }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
// -->
</script>
<script type="text/javascript" async
  src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<!-- Latest compiled and minified CSS bootstrap -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
</head>

<!-- type: post.html -->
<body>
    <div id="wrapper">
        <div id="container" class="container">
            <div class="span-16">
                <!-- type: header.html -->
<div id="header" role="banner">
    <h1><a href="//martin-thoma.com">Martin Thoma</a></h1>
    <h2 style="margin-top: 0;">A blog about Code, the Web and Cyberculture.</h2>
</div>
<nav class="navcontainer" role="navigation">
    <ul id="nav">
        <li class=""><a href="//martin-thoma.com">Home</a></li>
        <li class="page_item page-item-41 "><a href="//martin-thoma.com/author/martin-thoma/">About Me</a></li>
        <li class="page_item page-item-91 "><a href="//martin-thoma.com/imprint/">Imprint</a></li>
    </ul>
</nav>

                <div id="content">
                    <article class="post type-post format-standard hentry clearfix" itemscope itemType="http://schema.org/BlogPosting">
                        <h2 class="title entry-title" itemprop="name headline">Prolog</h2>
                        <link itemprop="mainEntityOfPage" href="//martin-thoma.com/prolog" />
                        <div class="postdate entry-date date-header">
                            <time datetime="2014-04-02T16:36:00+02:00" itemprop="datePublished">
                                April
                                2nd,
                                  
                                2014
                            </time>
                        </div>

                        <div class="entry post-body" id="contentAfterTitle" itemprop="articleBody">
                            <p>Prolog is a logic programming language.</p>

<p>Any prolog program consists of</p>

<ul>
  <li>declaration of facts (also called objects)</li>
  <li>rules about objects and their relationship</li>
  <li>asking “questions” about objects and their relationship</li>
</ul>

<div id="toc_container" class="toc_light_blue no_bullets">
   <p class="toc_title">Contents</p>
   <ul class="toc_list">
      <li class="toc_level-1 toc_section-1">
         <a href="#tocAnchor-1-1"><span class="tocnumber">1</span> <span class="toctext">First steps</span></a>
      </li>
      <li class="toc_level-1 toc_section-2">
         <a href="#tocAnchor-1-2"><span class="tocnumber">2</span> <span class="toctext">Defining facts</span></a>
         <ul>
            <li class="toc_level-2 toc_section-3">
               <a href="#tocAnchor-1-2-1"><span class="tocnumber">2.1</span> <span class="toctext">Symbols</span></a>
            </li>
         </ul>
      </li>
      <li class="toc_level-1 toc_section-4">
         <a href="#tocAnchor-1-4"><span class="tocnumber">3</span> <span class="toctext">Rules</span></a>
      </li>
      <li class="toc_level-1 toc_section-5">
         <a href="#tocAnchor-1-5"><span class="tocnumber">4</span> <span class="toctext">Questions</span></a>
      </li>
      <li class="toc_level-1 toc_section-6">
         <a href="#tocAnchor-1-6"><span class="tocnumber">5</span> <span class="toctext">Fox, goose and bag of beans puzzle</span></a>
      </li>
      <li class="toc_level-1 toc_section-7">
         <a href="#tocAnchor-1-7"><span class="tocnumber">6</span> <span class="toctext">Material</span></a>
      </li>
   </ul>
</div><h2 id="tocAnchor-1-1">First steps</h2>
<p>At first you have to install <code>swi-prolog</code>. After installing it, you can call it
with <code>swipl</code>.</p>

<p>When you’ve started <code>swipl</code> you can import your myscript.pl files by <code>consult(myscript).</code>.
Don’t forget the point at the end. It is important and somehow like the 
<code>;</code> in C.</p>

<h2 id="tocAnchor-1-2">Defining facts</h2>
<p>The definition of facts can look like this:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre>loves(john,X).
</pre></div>
</div>
</div>

<ul>
  <li>Note that names of all relationships and all objects have to begin with a lower
case letter. Variables begin with a capital letter.</li>
  <li>The relationship is written first (<code>john</code>). The objects are separated by <code>,</code> 
and everything is finished with <code>.</code>.</li>
  <li>The example from above means: <code>john</code> loves everything.</li>
  <li>You can have any number of arguments.</li>
  <li>The ordering of arguments is important (<code>loves(john,X)</code> is not the same as <code>loves(X,john)</code>).</li>
</ul>

<h3 id="tocAnchor-1-2-1">Symbols</h3>

<table>
  <thead>
    <tr>
      <th>Boolean</th>
      <th>Prolog</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>and</td>
      <td><code>,</code></td>
    </tr>
    <tr>
      <td>or</td>
      <td><code>;</code></td>
    </tr>
    <tr>
      <td>if</td>
      <td><code>:-</code></td>
    </tr>
    <tr>
      <td>not</td>
      <td><code>not</code></td>
    </tr>
  </tbody>
</table>

<ul>
  <li>An underscore <code>_</code> is an anonymous variable.</li>
</ul>

<h2 id="tocAnchor-1-4">Rules</h2>

<p>Rules consist of a head and a body. They are separated by <code>:-</code>.</p>

<h2 id="tocAnchor-1-5">Questions</h2>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre>?own(mary,book)
</pre></div>
</div>
</div>

<p>This will invoke the prolog unifier. So Prolog will check if the fact 
<code>own(mary,book)</code> can be derived from the known facts. Important is that it
starts with <code>?</code>. Everything else in questions is just like it was for facts.</p>

<h2 id="tocAnchor-1-6">Fox, goose and bag of beans puzzle</h2>

<p>This puzzle helped me a lot to understand how Prolog works. It goes as follows:</p>

<blockquote>
  <p>Once upon a time a farmer went to market and purchased a fox, a goose, and a bag of beans. On his way home, the farmer came to the bank of a river and rented a boat. But in crossing the river by boat, the farmer could carry only himself and a single one of his purchases - the fox, the goose, or the bag of the beans.
If left together, the fox would eat the goose, or the goose would eat the beans.
The farmer’s challenge was to carry himself and his purchases to the far bank of the river, leaving each purchase intact. How did he do it?</p>
</blockquote>

<p>Source: <a href="https://en.wikipedia.org/wiki/Fox,_goose_and_bag_of_beans_puzzle">Wikpedia</a></p>

<p>Let’s call the side of the river where the farmer currently is ‘left’ and the other
side ‘right’ to make things easier.</p>

<p>When you solve this by hand, you should note the following:</p>

<ul>
  <li>The only two things that the farmer can leave alone is the fox and the bag of beans.</li>
  <li>As the farmer is always in the boat when anything else is in the boat, you can ignore
that step. Just think of the farmer and possibly one other thing teleporting
from one side to the other.</li>
  <li>You only have to look at what’s left and what’s right. If nothing gets eaten
on the left side and nothing gets eaten on the right side, you’ve got a valid
situation.</li>
  <li>Whenever a situation occurs twice, you did some redundant steps. In other words:
At least one solution exists, where no repetitions take place. The shortest
solution is one of them.</li>
</ul>

<p>To solve this task, you split the problem into parts:</p>

<ul>
  <li>Define a rule <code>valid</code> that takes a 4-tuple, where the first element is the position
of the man, the second of the goose, then the fox and then the beans. Positions
can either be <code>left</code> or <code>right</code>.</li>
  <li>Define a rule <code>step(S1, Description, S2)</code> that makes one step from situation
<code>S1</code> to situation <code>S2</code> where <code>Description</code> contains the information what was 
brought to the other side. The situations are, as above, 4-tuples.</li>
  <li>Define a rule <code>reachable(S1, SituationList, Steps, S2)</code> that is true if
<code>S2</code> can be reached by any number of steps from <code>S1</code>. The list of steps done 
to get from <code>S1</code> to <code>S2</code> is stored in <code>Steps</code>. The <code>SituationList</code> is used to
prevent doing unnecessary redundant steps.</li>
</ul>

<p>So lets get through this.</p>

<p>There are essentially three situations that can occur:</p>

<ul>
  <li>The man is on the same side as the goose,</li>
  <li>the man is on the same side as the beans or</li>
  <li>the man is on the same side as the fox.</li>
</ul>

<p>If the man is on the same side as the goose, everything is fine. Nobody gets
eaten / eats when the man is there.</p>

<p>If the man is where the beans are, then the goose should not be where the fox is.
The case that the goose is where the man is was done before.</p>

<p>And the last case, the man is where the fox is. Now we have to make sure that
the beans are not where the goose is:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre>p(left).
p(right).
valid((Man, Goose, Fox, Beans)) :- p(Man),p(Goose),p(Fox),p(Beans), Man == Goose.
valid((Man, Goose, Fox, Beans)) :- p(Man),p(Goose),p(Fox),p(Beans), Man == Beans, Goose \= Fox.
valid((Man, Goose, Fox, Beans)) :- p(Man),p(Goose),p(Fox),p(Beans), Man == Fox, Goose \= Beans.
</pre></div>
</div>
</div>

<p>The <code>step</code> is also quite simple. There are four possible actions you could take
at each situation:</p>

<ul>
  <li>Only the man goes to the other side,</li>
  <li>the man and the beans / goose / fox go the the other side.</li>
</ul>

<p>So here is  the code:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre>step((Man1, Goose, Fox, Beans), 'Man', (Man2, Goose, Fox, Beans)) :- 
    Man1 \= Man2.

step((Man1, Goose1, Fox, Beans), 'Goose', (Man2, Goose2, Fox, Beans)) :- 
    Man1 \= Man2, Goose1 \= Goose2.

step((Man1, Goose, Fox1, Beans), 'Fox', (Man2, Goose, Fox2, Beans)) :- 
    Man1 \= Man2, Fox1 \= Fox2.

step((Man1, Goose, Fox, Beans1), 'Beans', (Man2, Goose, Fox, Beans2)) :- 
    Man1 \= Man2, Beans1 \= Beans2.
</pre></div>
</div>
</div>

<p>And finally the reachable part.</p>

<ul>
  <li>Either, you’re already at the situation where you want to get to. So you don’t
have to do any step and it doesn’t matter which situations you have seen so far.</li>
  <li>Or you want to get from <code>S</code> to <code>G</code>. That is only possible, when you can get
from <code>S</code> to an intermediate situation with one step less:</li>
</ul>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre>reachable(S, _, [], S).
reachable(S, Visited, [Step|Steps], G) :- 
    step(S, Step, Tmp), valid(Tmp), not(member(Tmp, Visited)),
    reachable(Tmp, [Tmp|Visited], Steps, G).
</pre></div>
</div>
</div>

<p>Putting it together:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre>p(left).
p(right).
valid((Man, Goose, Fox, Beans)) :- p(Man),p(Goose),p(Fox),p(Beans), Man == Goose.
valid((Man, Goose, Fox, Beans)) :- p(Man),p(Goose),p(Fox),p(Beans), Man == Beans, Goose \= Fox.
valid((Man, Goose, Fox, Beans)) :- p(Man),p(Goose),p(Fox),p(Beans), Man == Fox, Goose \= Beans.

step((Man1, Goose, Fox, Beans), 'Man', (Man2, Goose, Fox, Beans)) :- 
    valid((Man2, Goose, Fox, Beans)),
    Man1 \= Man2.

step((Man1, Goose1, Fox, Beans), 'Goose', (Man2, Goose2, Fox, Beans)) :- 
    valid((Man2, Goose2, Fox, Beans)),
    Man1 \= Man2, Goose1 \= Goose2.

step((Man1, Goose, Fox1, Beans), 'Fox', (Man2, Goose, Fox2, Beans)) :- 
    valid((Man2, Goose, Fox2, Beans)),
    Man1 \= Man2, Fox1 \= Fox2.

step((Man1, Goose, Fox, Beans1), 'Beans', (Man2, Goose, Fox, Beans2)) :- 
    valid((Man2, Goose, Fox, Beans2)),
    Man1 \= Man2, Beans1 \= Beans2.

reachable(S, _,[], S).
reachable(S, Visited, [Step|Steps], G) :- 
    step(S, Step, Tmp), not(member(Tmp, Visited)),
    reachable(Tmp, [Tmp|Visited], Steps, G).

start((left,left,left,left)).
goal((right,right,right,right)).

solve(Steps) :- start(S), goal(G), reachable(S, [], Steps, G).
</pre></div>
</div>
</div>

<p>You can load this with <code>swipl -s puzzle.pl</code> and get all solutions with <code>bagof(X, solve(T), L)</code>.
When you press <code>;</code> after the first solution, you get the second solution.
(Yes, this riddle has only two solutions that avoid redundant steps.)</p>

<h2 id="tocAnchor-1-7">Material</h2>
<ul>
  <li><a href="http://www.youtube.com/watch?v=GHLfeGN5OMk">Introduction to PROLOG</a>: One hour of introduction to prolog by Shashi Bhushan. Much of what I have written here is based on this video.</li>
  <li><a href="http://www.swi-prolog.org/">SWI Prolog</a>: A great resource for looking things up.</li>
  <li><a href="http://www.cs.trincoll.edu/~ram/cpsc352/notes/prolog/factsrules.html">Facts, Rules and Queries</a></li>
  <li><a href="http://www.cs.toronto.edu/~hojjat/384w09/simple-prolog-examples.html">Simple Prolog example</a></li>
</ul>

                        </div>
                        <div class="postmeta">Posted in
                            
                                <a href="//martin-thoma.com/category/code/">code</a><!--TODO: Displayed category name should be upper case! -->
                             | Tags:
                            
                                
                                    <a href="//martin-thoma.com/tag/prolog/">Prolog</a>
                                
                            
                                , <a href="//martin-thoma.com/tag/programming-language/">Programming language</a>
                                
                             by <a rel="author" class="vcard author post-author" itemprop="author" href="//martin-thoma.com/author/martin-thoma/"><span class="fn" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Martin Thoma</span></span></a> on <span class="updated"><span class="value-title" title="2014-04-02 16:36:00 +0200">
                                April
                                2nd
                                  ,
                                2014</span></span></div>

                            <div class="navigation clearfix">
                                <div class="alignleft">
                                
                                    &laquo; <a href="//martin-thoma.com/tcl/" rel="prev">TCL</a>
                                
                                </div>
                                <div class="alignright">
                                
                                    <a href="//martin-thoma.com/pruefungsanmeldungen-am-kit/" rel="next">Prüfungsverwaltung am KIT</a> &raquo;
                                
                                </div>
                            </div>

                        </article>
                        <div id="respond">
                            <h3>Leave a Reply</h3>
                                <!-- comment discuss code -->
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'martinthoma'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="//disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    <!-- comment discuss code -->

                        </div>
                    </div>
                </div>
            <div class="span-8 last">
                <div id="subscriptions">
<a href="//martin-thoma.com/feed/"><img src="//martin-thoma.com/css/images/rss.png" alt="Subscribe to RSS Feed" title="Subscribe to RSS Feed" width="72" height="47" /></a>
<a href="https://twitter.com/#!/themoosemind" title="Follow me on Twitter!"><img src="//martin-thoma.com/css/images/twitter.png" title="Follow me on Twitter!" alt="Follow me on Twitter!"  width="76" height="47" /></a>
</div>

                <div id="sidebar">
                <!-- type: searchbox.html - TODO-->
<ul>
    <li id="search">
        <div class="searchlayout">
            <form method="get" id="searchform" action="//google.com/cse" role="search">
                <input type="hidden" name="cx" value="017345337424948206369:qrnnnentkkk" />
                <input type="search" value="" name="q" id="s" placeholder="Search with Google"/>
                <input type="image" src="//martin-thoma.com/css/images/search.gif" style="border:0; vertical-align: top;" alt="search"/>
            </form>
        </div>
    </li>
</ul>

                <div class="addthis_toolbox">
    <div class="custom_images">
            <a href="//twitter.com/share?url=https://martin-thoma.com/prolog&amp;hashtags=prolog,programming-language,&amp;via=themoosemind" target="_blank"><img src="//martin-thoma.com/css/images/socialicons/twitter.png" width="32" height="32" alt="Twitter" /></a>
            <a href="//del.icio.us/post?url=//martin-thoma.com/prolog&amp;title=Prolog" target="_blank"><img src="//martin-thoma.com/css/images/socialicons/delicious.png" width="32" height="32" alt="Delicious" /></a>
            <a href="//www.facebook.com/sharer.php?u=//martin-thoma.com/prolog" target="_blank"><img src="//martin-thoma.com/css/images/socialicons/facebook.png" width="32" height="32" alt="Facebook" /></a>
            <a href="//digg.com/submit?phase=2&amp;url=//martin-thoma.com/prolog&amp;title=Prolog" target="_blank"><img src="//martin-thoma.com/css/images/socialicons/digg.png" width="32" height="32" alt="Digg" /></a>
            <a href="//www.stumbleupon.com/submit?url=//martin-thoma.com/prolog&amp;title=Prolog" target="_blank"><img src="//martin-thoma.com/css/images/socialicons/stumbleupon.png" width="32" height="32" alt="Stumbleupon" /></a>
            <a href="//plusone.google.com/_/+1/confirm?hl=en&amp;url=//martin-thoma.com/prolog" target="_blank"><img src="//martin-thoma.com/css/images/socialicons/gplus.png" width="32" height="32" alt="Google Plus" /></a>
            <a href="//reddit.com/submit?url=//martin-thoma.com/prolog&amp;title=Prolog" target="_blank"><img src="//martin-thoma.com/css/images/socialicons/reddit.png" width="32" height="32" alt="Reddit" /></a>
    </div>
</div>

                <ul>
                    <li id="categories-3" class="widget widget_categories">
                        <!-- type: categories -->
<h2 class="widgettitle">Categories</h2>
    <ul>
        <li class="cat-item cat-item-11"><a href="//martin-thoma.com/category/code/" title="Tipps for coding in different languages like Python oder C++.">Code</a></li>
        <li class="cat-item cat-item-21"><a href="//martin-thoma.com/category/web/" title="New emerging websites and technologies.">The Web</a></li>
        <li class="cat-item cat-item-31"><a href="//martin-thoma.com/category/cyberculture/" title="Lolcats, planking, Trollfaces, ...">Cyberculture</a></li>
        <li class="cat-item cat-item-3404"><a href="//martin-thoma.com/category/maths/" title="View all posts filed under Mathematics">Mathematics</a></li>
        <li class="cat-item cat-item-881"><a href="//martin-thoma.com/category/bits-and-bytes/" title="Sometimes posts don&#039;t fit in any category.">My bits and bytes</a></li>
        <li class="cat-item cat-item-41"><a href="//martin-thoma.com/category/deutschland/" title="[All Posts here are written in German about German topics] - Die Bahn, unsere Politik und Europa.">German posts</a></li>
    </ul>

                    </li>
                </ul>
                </div>
            </div>
        </div><!--/container-->
            <footer id="footer">
                <a href="//martin-thoma.com"><strong>Martin Thoma</strong></a> -  A blog about Code, the Web and Cyberculture. <br />
                <div class="footer-credits">
                    <a href="http://flexithemes.com/themes/modern-style/">Modern Style</a> theme by <a href="http://flexithemes.com/">FlexiThemes</a>
                </div>
            </footer><!--/footer-->

    </div><!--/wrapper-->
<!-- type: footer -->
<!-- TOC Plus -->
<script type='text/javascript'>
/* <![CDATA[ */
var tocplus = {"visibility_show":"show","visibility_hide":"hide","width":"275px"};
/* ]]> */
</script>
<script type='text/javascript' src="//martin-thoma.com/js/tocplus-front.js"></script>
<script>
(function(){
    'use strict';

    /*
    Create intra-page links
    Requires that your headings already have an `id` attribute set (because that's what jekyll does)
    For every heading in your page, this adds a little anchor link `#` that you can click to get a permalink to the heading.
    Ignores `h1`, because you should only have one per page.
    The text content of the tag is used to generate the link, so it will fail "gracefully-ish" if you have duplicate heading text.

    Credit: https://gist.github.com/SimplGy/a229d25cdb19d7f21231
     */

    var headingNodes = [], results, link,
        tags = ['h2', 'h3', 'h4', 'h5', 'h6'];

    tags.forEach(function(tag){
        var contentTag = document.getElementById('contentAfterTitle');
      results = contentTag.getElementsByTagName(tag);
      Array.prototype.push.apply(headingNodes, results);
    });

    headingNodes.forEach(function(node){
      link = document.createElement('a');
      link.className = 'deepLink';
      link.textContent = ' ¶';
      link.href = '#' + node.getAttribute('id');
      node.appendChild(link);
    });

  })();
</script>
</body>
</html>

