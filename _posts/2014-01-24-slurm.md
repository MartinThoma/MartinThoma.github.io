---
layout: post
title: SLURM
author: Martin Thoma
date: 2014-01-24 14:58
categories:
- Cyberculture
tags:
- Linux
- Scheduling
featured_image: 2014/01/slurm-logo.png
---

SLURM is short for 'Simple Linux Utility for Resource Management'.
It helps you to make use of a <abbr title="a data center ... many computers">cluster</abbr>
by giving you a command line
interface to add jobs to a queue. That means, you and other users can
specify program calls that get executed as soon als all conditions
are met.

I currently need to work with this, because I have some pretty heavy
tasks that occur periodically, but don't need to be executed immediately.
More concrete, I am working in the field of ASR - Automatic Speech Recognition.
In ASR you have models that include probabilities for ... well, let's
don't get into detail for that. The important part is that those models
need to be trained. And they can get adapted to speakers.

As soon as you have more recordings, you can try to improve the model. 
And this training involves a lot of computation and
data processing. As the training job is executed periodically, but
not always when a new recording is present, you might also have
recordings for many different speakers. So you can improve many models
when this script is started. So this can be done on different computers
in parallel.

## SLURM basic usage ##
A simple call could look like this:

```bash
srun python test.py -aflag -param value
```

Other notable commands are:

* `squeue`: Gives a list of all running / pending jobs
* `sbatch`: Run a batch script in background
* `scancel`: Stop a job

Important parameters for `srun` are:

* `--mem=[X in MB]`
* `--job-name=[Name of your SLURM job]`
* `--dependency`: Start this job when all dependencies are met. This
     could be time or other jobs

Another important command is `squeue`. It allows you to list all jobs in
command line (if you have a GUI: `sview`).

You can get your jobs only with `squeue -u mthoma`, where `mthoma` should be
replaced by your user name.

## More information ##
* [srun manpage](https://computing.llnl.gov/tutorials/linux_clusters/man/srun.txt)
* [SLURM Quickstart Guide](https://computing.llnl.gov/linux/slurm/quickstart.html)
* [SLURM Overview from Harvard](https://rc.fas.harvard.edu/kb/high-performance-computing/slurm/)
