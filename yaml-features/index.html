<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Martin Thoma" />
        <meta name="copyright" content="Martin Thoma" />
        <link title = "Martin Thoma"
              type  = "application/opensearchdescription+xml"
              rel   = "search"
              href  = "../opensearch.xml">

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="YAML, Code, " />

<meta property="og:title" content="6 YAML Features most programmers don’t know  - Level-up your YAML knowledge to write cleaner YAML files "/>
<meta property="og:url" content="https://levelup.gitconnected.com/6-yaml-features-most-programmers-dont-know-164762343af3" />
<meta property="og:description" content="YAML is a file format commonly used for data serialization. There are a plethora of projects using YAML files for configuration, such as Docker-compose, pre-commit, TravisCI, AWS Cloudformation, ESLint, Kubernetes, Ansible, and many more. Knowing the features of YAML helps you with all of them. Let’s cover the basics …" />
<meta property="og:site_name" content="Martin Thoma" />
<meta property="og:article:author" content="Martin Thoma" />
<meta property="og:article:published_time" content="2021-01-04T20:00:00+01:00" />
<meta name="twitter:title" content="6 YAML Features most programmers don’t know  - Level-up your YAML knowledge to write cleaner YAML files ">
<meta name="twitter:description" content="YAML is a file format commonly used for data serialization. There are a plethora of projects using YAML files for configuration, such as Docker-compose, pre-commit, TravisCI, AWS Cloudformation, ESLint, Kubernetes, Ansible, and many more. Knowing the features of YAML helps you with all of them. Let’s cover the basics …">
<meta property="og:image" content="logos/star.png" />
<meta name="twitter:image" content="logos/star.png" >

        <title>6 YAML Features most programmers don’t know  - Level-up your YAML knowledge to write cleaner YAML files  · Martin Thoma
</title>
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="../theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="../theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="../theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="../static/print.css" media="print">
        <link rel="stylesheet" type="text/css" href="../static/custom.css" media="screen">

        <!-- MathJax -->
<script type="text/x-mathjax-config">
<!--
MathJax.Hub.Config({
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [ ['$$', '$$'], ['\\[','\\]']],
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
    processEscapes: true
  }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
// -->
</script>
<script type="text/javascript" async
  src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

        <link href="https://martin-thoma.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Martin Thoma - Full Atom Feed" />
        <link href="https://martin-thoma.com/feeds/index.xml" type="application/rss+xml" rel="alternate" title="Martin Thoma - Full RSS Feed" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8HZ7HBMC9L"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8HZ7HBMC9L');
</script>    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top navbar-default">
            <div class="container">
                <div class="container-fluid">
                    <div class="collapse navbar-collapse">
                        <ul class="nav pull-left top-menu navbar-nav">
                            <li><a href=".." style="font-family: 'Monaco', 'Inconsolata', 'Andale Mono', 'Lucida Console', 'Bitstream Vera Sans Mono', 'Courier New', Courier, Monospace;
                        font-size: 20px;" class="navbar-brand" tabindex="-1">Martin Thoma</a>
                            </li>
                        </ul>
                        <ul class="nav pull-right top-menu navbar-nav">
                            <li ><a href="..">Home</a></li>
                            <li ><a href="../categories.html">Categories</a></li>
                            <li ><a href="../tags.html">Tags</a></li>
                            <li ><a href="../archives.html">Archives</a></li>
                            <li><a href="../support-me/">Support me</a></li>
                            <li><form class="navbar-form" action="../search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="search" class="search-query form-control" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-1 col-md-1"></div>
                <div class="col-sm-10 col-md-10">
<!-- article.html -->
<article>
<div class="row">
    <header class="page-header col-sm-10 col-md-10 col-md-offset-2">
    <h1><a href="https://levelup.gitconnected.com/6-yaml-features-most-programmers-dont-know-164762343af3">6 YAML Features most programmers don’t know <small>Level-up your YAML knowledge to write cleaner YAML files</small></a></h1>
    </header>
</div>

<div class="row">
    <div class="col-sm-2 col-md-2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div id="toc"><ul><li><a class="toc-href" href="#" title="6 YAML Features most programmers don&rsquo;t know">6 YAML Features most programmers don&rsquo;t know</a><ul><li><a class="toc-href" href="#equivalent-notation" title="Equivalent Notation">Equivalent Notation</a></li><li><a class="toc-href" href="#long-strings" title="Long Strings">Long Strings</a></li><li><a class="toc-href" href="#multi-line-string" title="Multi-Line String">Multi-Line String</a></li><li><a class="toc-href" href="#anchor" title="Anchor">Anchor</a></li><li><a class="toc-href" href="#type-casting" title="Type Casting">Type Casting</a></li><li><a class="toc-href" href="#multiple-documents-in-one-yaml" title="Multiple Documents in one YAML">Multiple Documents in one YAML</a></li><li><a class="toc-href" href="#whats-next" title="What&rsquo;s next?">What&rsquo;s next?</a></li></ul></li></ul></div>
        </nav>
    </div>
    <div class="col-sm-8 col-md-8 article-content" id="contentAfterTitle">

            
            <p><img alt="" src="https://cdn-images-1.medium.com/max/3474/1*1zw7ZZTxnY5LiSnn9w6zlw.png"/></p>
<p>YAML is a file format commonly used for data serialization. There are a plethora of projects using YAML files for configuration, such as <a href="https://docs.docker.com/compose/">Docker-compose</a>, <a href="https://pre-commit.com/#2-add-a-pre-commit-configuration">pre-commit</a>, <a href="https://docs.travis-ci.com/user/build-config-yaml">TravisCI</a>, <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-formats.html">AWS Cloudformation</a>, <a href="https://eslint.org/docs/user-guide/configuring">ESLint</a>, <a href="https://kubernetes.io/docs/concepts/configuration/configmap/#configmaps-and-pods">Kubernetes</a>, <a href="https://docs.ansible.com/ansible/latest/reference_appendices/YAMLSyntax.html">Ansible</a>, and many more. Knowing the features of YAML helps you with all of them.</p>
<p>Let&rsquo;s cover the basics first: YAML is a superset of JSON (<a href="https://yaml.org/spec/1.2/spec.html#id2759572">source</a>). Every valid JSON file is also a valid YAML file. This means you have all of the types you expect: Integers, floats, strings, bool, null. Also sequences and maps. Depending on your programming language, you might say &ldquo;array&rdquo; or &ldquo;list&rdquo; instead of sequence and &ldquo;dictionary&rdquo; instead of map.</p>
<p>It typically looks like this:</p>
<div class="highlight"><pre><span></span><code><span class="nt">mysql</span><span class="p">:</span>
  <span class="nt">host</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">localhost</span>
  <span class="nt">user</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">root</span>
  <span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">something</span>
<span class="nt">preprocessing_queue</span><span class="p">:</span>  <span class="c1"># Line comments are available!</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">preprocessing.scale_and_center</span>
    <span class="nt">width</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">32</span>
    <span class="nt">height</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">32</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">preprocessing.dot_reduction</span>
<span class="nt">use_anonymous</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
<h2 id="equivalent-notation">Equivalent Notation</h2>
<p>YAML has a lot of equivalent ways to write stuff:</p>
<div class="highlight"><pre><span></span><code><span class="nt">list_by_dash</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">foo</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">bar</span>
<span class="nt">list_by_square_bracets</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">foo</span><span class="p p-Indicator">,</span> <span class="nv">bar</span><span class="p p-Indicator">]</span>
<span class="nt">map_by_indentation</span><span class="p">:</span>
  <span class="nt">foo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bar</span>
  <span class="nt">bar</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">baz</span>
<span class="nt">map_by_curly_braces</span><span class="p">:</span> <span class="p p-Indicator">{</span><span class="nt">foo</span><span class="p">:</span> <span class="nv">bar</span><span class="p p-Indicator">,</span><span class="nt"> bar</span><span class="p">:</span> <span class="nv">baz</span><span class="p p-Indicator">}</span>
<span class="nt">string_no_quotes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Monty Python</span>
<span class="nt">string_double_quotes</span><span class="p">:</span> <span class="s">"Monty</span><span class="nv"> </span><span class="s">Python"</span>
<span class="nt">string_single_quotes</span><span class="p">:</span> <span class="s">'Monty</span><span class="nv"> </span><span class="s">Python'</span>
<span class="nt">bool_english</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
<span class="nt">bool_english_no</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>
<span class="nt">bool_python</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
<span class="nt">bool_json</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
<p>Some words of caution here:</p>
<div class="highlight"><pre><span></span><code><span class="nt">language</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">no</span>  <span class="c1"># ISO 639-1 code for the Norwegian language</span>
</code></pre></div>
<p>This no is interpreted as false . You need to write "no" or 'no' .</p>
<p>In general, I recommend using true and false just like JSON does for booleans,
but <a href="https://yaml.org/type/bool.html">YAML supports 11 ways to write booleans</a>.
If you want to use quotes for strings, I would also use " like JSON does. You
still need to remember "no" , but at least the file looks a bit more familiar
to YAML beginners.</p>
<h2 id="long-strings">Long Strings</h2>
<div class="highlight"><pre><span></span><code><span class="nt">disclaimer</span><span class="p">:</span> <span class="p p-Indicator">&gt;</span>
    <span class="no">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</span>
    <span class="no">In nec urna pellentesque, imperdiet urna vitae, hendrerit</span>
    <span class="no">odio. Donec porta aliquet laoreet. Sed viverra tempus fringilla.</span>
</code></pre></div>
<p>This is equivalent to the following JSON (newlines are added for readability; please ignore them):</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="nt">"disclaimer"</span><span class="p">:</span> <span class="s2">"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In nec urna pellentesque, imperdiet urna vitae, hendrerit odio. Donec porta aliquet laoreet. Sed viverra tempus fringilla."</span><span class="p">}</span>
</code></pre></div>
<h2 id="multi-line-string">Multi-Line String</h2>
<div class="highlight"><pre><span></span><code><span class="nt">mail_signature</span><span class="p">:</span> <span class="p p-Indicator">|</span>
      <span class="no">Martin Thoma</span>
      <span class="no">Tel. +49 123 4567</span>
</code></pre></div>
<p>This is equivalent to the JSON:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="nt">"mail_signature"</span><span class="p">:</span> <span class="s2">"Martin Thoma\nTel. +49 123 4567"</span><span class="p">}</span>
</code></pre></div>
<p>Note how the leading whitespace is ignored. The first line (&ldquo;Martin Thoma&rdquo;)
determines the number of ignored leading whitespace.</p>
<h2 id="anchor">Anchor</h2>
<div class="highlight"><pre><span></span><code><span class="nt">email</span><span class="p">:</span> <span class="nl">&amp;emailAddress</span> <span class="s">"info@example.de"</span>
<span class="nt">id</span><span class="p">:</span> <span class="nv">*emailAddress</span>
</code></pre></div>
<p>This is equivalent to the following JSON:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="nt">"email"</span><span class="p">:</span> <span class="s2">"info@example.de"</span><span class="p">,</span> <span class="nt">"id"</span><span class="p">:</span> <span class="s2">"info@example.de"</span><span class="p">}</span>
</code></pre></div>
<p>The <code>&amp;</code> defined a variable emailAddress with the value <code>"info@example.de</code>.
The <code>*</code> then indicated that the name of a variable follows.</p>
<p>You can do the same with mappings:</p>
<div class="highlight"><pre><span></span><code><span class="nt">foo</span><span class="p">:</span> <span class="err">&amp;*</span><span class="nv">*default_settings</span><span class="err">**</span>
  <span class="nt">db</span><span class="p">:</span>
    <span class="nt">host</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">localhost</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">main_db</span>
    <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1337</span>
  <span class="nt">email</span><span class="p">:</span>
    <span class="nt">admin</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">admin@example.com</span><span class="p p-Indicator">]</span><span class="l l-Scalar l-Scalar-Plain">(mailto:admin@example.com)</span>
<span class="nt">prod</span><span class="p">:</span> <span class="nv">*default_settings</span>
<span class="nt">dev</span><span class="p">:</span> <span class="nv">*default_settings</span>
</code></pre></div>
<p>which gives:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span> <span class="nt">"dev"</span><span class="p">:</span> <span class="p">{</span> <span class="nt">"db"</span><span class="p">:</span> <span class="p">{</span><span class="nt">"host"</span><span class="p">:</span>
                  <span class="s2">"localhost"</span><span class="p">,</span>
                  <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"main_db"</span><span class="p">,</span>
                  <span class="nt">"port"</span><span class="p">:</span> <span class="mi">1337</span><span class="p">},</span>
           <span class="nt">"email"</span><span class="p">:</span> <span class="p">{</span><span class="nt">"admin"</span><span class="p">:</span> <span class="s2">"[admin@example.com](mailto:admin@example.com)"</span><span class="p">}},</span>
  <span class="nt">"foo"</span><span class="p">:</span> <span class="p">{</span> <span class="nt">"db"</span><span class="p">:</span> <span class="p">{</span><span class="nt">"host"</span><span class="p">:</span> <span class="s2">"localhost"</span><span class="p">,</span>
                  <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"main_db"</span><span class="p">,</span>
                  <span class="nt">"port"</span><span class="p">:</span> <span class="mi">1337</span><span class="p">},</span>
           <span class="nt">"email"</span><span class="p">:</span> <span class="p">{</span><span class="nt">"admin"</span><span class="p">:</span> <span class="s2">"[admin@example.com](mailto:admin@example.com)"</span><span class="p">}},</span>
  <span class="nt">"prod"</span><span class="p">:</span> <span class="p">{</span> <span class="nt">"db"</span><span class="p">:</span> <span class="p">{</span><span class="nt">"host"</span><span class="p">:</span> <span class="s2">"localhost"</span><span class="p">,</span>
                   <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"main_db"</span><span class="p">,</span>
                   <span class="nt">"port"</span><span class="p">:</span> <span class="mi">1337</span><span class="p">},</span>
            <span class="nt">"email"</span><span class="p">:</span> <span class="p">{</span><span class="nt">"admin"</span><span class="p">:</span> <span class="s2">"[admin@example.com](mailto:admin@example.com)"</span><span class="p">}}}</span>
</code></pre></div>
<p>Now you might want to insert a password to the dev and prod settings. You can
do that by using the <a href="https://yaml.org/type/merge.html">merge key</a> <code>&lt;&lt;</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">foo</span><span class="p">:</span> <span class="nl">&amp;default_settings</span>
  <span class="nt">db</span><span class="p">:</span>
    <span class="nt">host</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">localhost</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">main_db</span>
    <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1337</span>
  <span class="nt">email</span><span class="p">:</span>
    <span class="nt">admin</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">admin@example.com</span><span class="p p-Indicator">]</span><span class="l l-Scalar l-Scalar-Plain">(mailto:admin@example.com)</span>
<span class="nt">prod</span><span class="p">:</span>
  <span class="nt">&lt;&lt;</span><span class="p">:</span> <span class="nv">*default_settings</span>
<span class="nt">**  app</span><span class="p">:</span>
    <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80**</span>
<span class="nt">dev</span><span class="p">:</span> <span class="nv">*default_settings</span>
</code></pre></div>
<p>which is equivalent to this JSON:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span> <span class="nt">"foo"</span><span class="p">:</span> <span class="p">{</span> <span class="nt">"db"</span><span class="p">:</span> <span class="p">{</span><span class="nt">"host"</span><span class="p">:</span> <span class="s2">"localhost"</span><span class="p">,</span>
                  <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"main_db"</span><span class="p">,</span>
                  <span class="nt">"port"</span><span class="p">:</span> <span class="mi">1337</span><span class="p">},</span>
           <span class="nt">"email"</span><span class="p">:</span> <span class="p">{</span><span class="nt">"admin"</span><span class="p">:</span> <span class="s2">"[admin@example.com](mailto:admin@example.com)"</span><span class="p">}},</span>
  <span class="nt">"prod"</span><span class="p">:</span> <span class="p">{</span> <span class="nt">"app"</span><span class="p">:</span> <span class="p">{</span><span class="nt">"port"</span><span class="p">:</span> <span class="mi">80</span><span class="p">},</span>
            <span class="nt">"db"</span><span class="p">:</span> <span class="p">{</span><span class="nt">"host"</span><span class="p">:</span> <span class="s2">"localhost"</span><span class="p">,</span>
                   <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"main_db"</span><span class="p">,</span>
                   <span class="nt">"port"</span><span class="p">:</span> <span class="mi">1337</span><span class="p">},</span>
            <span class="nt">"email"</span><span class="p">:</span> <span class="p">{</span><span class="nt">"admin"</span><span class="p">:</span> <span class="s2">"[admin@example.com](mailto:admin@example.com)"</span><span class="p">}},</span>
  <span class="nt">"dev"</span><span class="p">:</span> <span class="p">{</span> <span class="nt">"db"</span><span class="p">:</span> <span class="p">{</span><span class="nt">"host"</span><span class="p">:</span> <span class="s2">"localhost"</span><span class="p">,</span>
                  <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"main_db"</span><span class="p">,</span>
                  <span class="nt">"port"</span><span class="p">:</span> <span class="mi">1337</span><span class="p">},</span>
           <span class="nt">"email"</span><span class="p">:</span> <span class="p">{</span><span class="nt">"admin"</span><span class="p">:</span> <span class="s2">"[admin@example.com](mailto:admin@example.com)"</span><span class="p">}},}</span>
</code></pre></div>
<h2 id="type-casting">Type Casting</h2>
<p>The double bang <code>!!</code> has a special meaning in YAML. It is called &ldquo;secondary tag
handle&rdquo; and a shorthand for <code>!tag:yaml.org,2002:</code>
(<a href="https://yaml.org/spec/1.2/spec.html#id2782457">source</a>).</p>
<p>You can do simple conversions like that:</p>
<div class="highlight"><pre><span></span><code><span class="nt">price</span><span class="p">:</span> <span class="kt">!!float</span> <span class="l l-Scalar l-Scalar-Plain">42</span>
<span class="nt">id</span><span class="p">:</span> <span class="kt">!!str</span> <span class="l l-Scalar l-Scalar-Plain">42</span>
</code></pre></div>
<p>Or more complex ones, e.g. map to default Python types that are not specified in YAML directly:</p>
<div class="highlight"><pre><span></span><code><span class="nt">tuple_example</span><span class="p">:</span> <span class="err">**</span><span class="kt">!!python/tuple**</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">1337</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">42</span>
<span class="nt">set_example</span><span class="p">:</span> <span class="err">**</span><span class="kt">!!set**</span> <span class="p p-Indicator">{</span><span class="nv">1337</span><span class="p p-Indicator">,</span> <span class="nv">42</span><span class="p p-Indicator">}</span>
<span class="nt">date_example</span><span class="p">:</span> <span class="err">**</span><span class="kt">!!timestamp**</span> <span class="l l-Scalar l-Scalar-Plain">2020-12-31</span>
</code></pre></div>
<p>You can read it like this:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">yaml</span>
<span class="kn">import</span> <span class="nn">pprint</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"example.yaml"</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="n">pp</span> <span class="o">=</span> <span class="n">pprint</span><span class="o">.</span><span class="n">PrettyPrinter</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="n">pased</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">unsafe_load</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">pased</span><span class="p">)</span>
</code></pre></div>
<p>And you will get this:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="s2">"date_example"</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span>
    <span class="s2">"set_example"</span><span class="p">:</span> <span class="p">{</span><span class="mi">1337</span><span class="p">,</span> <span class="mi">42</span><span class="p">},</span>
    <span class="s2">"tuple_example"</span><span class="p">:</span> <span class="p">(</span><span class="mi">1337</span><span class="p">,</span> <span class="mi">42</span><span class="p">),</span>
<span class="p">}</span>
</code></pre></div>
<p>This example uses the Python-specific tag !!python/tuple and some standard YAML tags. <a href="https://pyyaml.org/wiki/PyYAMLDocumentation#yaml-tags-and-python-types">PyYaml has a nice overview</a>:</p>
<div class="highlight"><pre><span></span><code>## Standard YAML tags
YAML               Python 3
!!null             None
!!bool             bool
!!int              int
!!float            float
!!binary           bytes
!!timestamp        datetime.datetime
!!omap, !!pairs    list of pairs
!!set              set
!!str              str
!!seq              list
!!map              dict

## Python-specific tags
YAML               Python 3
!!python/none      None
!!python/bool      bool
!!python/bytes     bytes
!!python/str       str
!!python/unicode   str
!!python/int       int
!!python/long      int
!!python/float     float
!!python/complex   complex
!!python/list      list
!!python/tuple     tuple
!!python/dict      dict

## Complex Python tags
!!python/name:module.name         module.name
!!python/module:package.module    package.module
!!python/object:module.cls        module.cls instance
!!python/object/new:module.cls    module.cls instance
!!python/object/apply:module.f    value of f(...)
</code></pre></div>
<p>Please note that loading non-standard tags is unsafe! It is possible to execute
arbitrary code with <code>!!python/object/apply:module.f</code>. In PyYaml, you need
<code>yaml.unsafe_load</code> to use it. Hence you should probably not use it!</p>
<h2 id="multiple-documents-in-one-yaml">Multiple Documents in one YAML</h2>
<p>Three dashes separate documents in YAML:</p>
<div class="highlight"><pre><span></span><code><span class="nt">foo</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bar</span>
<span class="nn">---</span>
<span class="nt">fizz</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">buzz</span>
</code></pre></div>
<p>In Python, you can load it like this with <a href="https://pypi.org/project/PyYAML/">PyYAML</a>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">yaml</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"example.yaml"</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="n">parsed</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load_all</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>  <span class="c1"># parsed is a generator</span>
</code></pre></div>
<p>If you converted parsed to a list and print it, you get:</p>
<div class="highlight"><pre><span></span><code><span class="p">[{</span><span class="s2">"foo"</span><span class="p">:</span> <span class="s2">"bar"</span><span class="p">},</span> <span class="p">{</span><span class="s2">"fizz"</span><span class="p">:</span> <span class="s2">"buzz"</span><span class="p">}]</span>
</code></pre></div>
<p>Please note that this is NOT an alternative notation to write lists. It&rsquo;s
different documents.</p>
<p>The static site generator
<a href="https://github.com/getpelican-plugins/pelican-md-yaml#usage">Pelican</a> uses
this to distinguish metadata from the content. I haven&rsquo;t seen any other
application using this feature.</p>
<h2 id="whats-next">What&rsquo;s next?</h2>
<p>There are plenty of configuration file formats such as TOML, INI, JSON, XML,
dotenv, and data serialization formats such as Pythons pickle, HDF5, Numpys
NPZ, XML. Let me know if you&rsquo;re interested in learning more about one of them!</p>
            
            <div id="disqus_thread" class="no-print"></div>
<script>
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
        var d = document, s = d.createElement('script');

        s.src = '//martinthoma.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

            <hr/>
        </div>
        <section>
        <div class="col-sm-2 col-md-2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2021-01-04T20:00:00+01:00">Jan 4, 2021</time>
            <br/>
            by <a rel="author" class="vcard author post-author" itemprop="author" href="../author/martin-thoma/"><span class="fn" itemscope="" itemtype="https://schema.org/Person"><span itemprop="name">Martin Thoma</span></span></a>
            <h4>Category</h4>
            <a class="category-link" href="../categories.html#code-ref">Code</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="../tags.html#yaml-ref">YAML
                    <span>2</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="https://twitter.com/_martinthoma" title="My Twitter Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-twitter sidebar-social-links"></i></a>
    <a href="mailto:info@martin-thoma.de" title="My Email Address" class="sidebar-social-links" target="_blank">
    <i class="fa fa-envelope sidebar-social-links"></i></a>
    <a href="https://github.com/MartinThoma" title="My Github Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-github sidebar-social-links"></i></a>
    <a href="http://stackoverflow.com/users/562769/martin-thoma" title="My Stackoverflow Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-stackoverflow sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="col-sm-1 col-md-1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer class="no-print">
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-subtitle"><span class="site-name">Martin Thoma</span> - A blog about Code, the Web and Cyberculture</li>
        <li><a href="https://martin-thoma.com/email-subscription">E-mail subscription</a></li>
        <li><a href="https://martin-thoma.com/feeds/index.xml">RSS-Feed</a></li>
        <li><a href="http://www.martin-thoma.de/privacy.htm">Privacy/Datenschutzerkl&auml;rung</a></li>
        <li><a href="http://www.martin-thoma.de/impressum.htm">Impressum</a></li>
        <li class="elegant-power">Powered by
            <a href="https://blog.getpelican.com/" title="Pelican Home Page" tabindex="-1">Pelican</a>.
            Theme: <a href="https://elegant.oncrashreboot.com" title="Theme Elegant Home Page" tabindex="-1">Elegant</a>
            by <a href="https://www.oncrashreboot.com/" title="Talha Mansoor Home Page" tabindex="-1">Talha Mansoor</a></li>
    </ul>
</div>
</footer>        <script src="//code.jquery.com/jquery.min.js"></script>
        <!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>
        <script>
(function(){
    'use strict';

    /*
    Create intra-page links
    Requires that your headings already have an `id` attribute set
    For every heading in your page, this adds a little anchor link `#` that you can click to get a permalink to the heading.
    Ignores `h1`, because you should only have one per page.
    The text content of the tag is used to generate the link, so it will fail "gracefully-ish" if you have duplicate heading text.

    Credit: https://gist.github.com/SimplGy/a229d25cdb19d7f21231
     */

    var headingNodes = [], results, link,
        tags = ['h2', 'h3', 'h4', 'h5', 'h6'];

    tags.forEach(function(tag){
        var contentTag = document.getElementById('contentAfterTitle');
      results = contentTag.getElementsByTagName(tag);
      Array.prototype.push.apply(headingNodes, results);
    });

    headingNodes.forEach(function(node){
      link = document.createElement('a');
      link.className = 'deepLink';
      link.textContent = ' ¶';
      link.href = '#' + node.getAttribute('id');
      node.appendChild(link);
    });

  })();
</script>
    </body>
    <!-- Theme: Elegant built for Pelican
    License : https://elegant.oncrashreboot.com -->
</html>