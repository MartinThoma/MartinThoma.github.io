<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Google Code Jam &ndash; Round 1C 2013</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">Martin Thoma</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <h2>Google Code Jam &ndash; Round 1C 2013</h2>
<p class="meta">12 May 2013</p>

<div class="post">
<ul>
<li>Problem A (<a href="https://code.google.com/codejam/contest/2437488/dashboard#s=p0">Consonants</a>):
  <ul>
    <li>Small Set: 4305/4834 users (89%)</li>
    <li>Large Set: 1551/3778 users (41%)</li>
  </ul>
<li>Problem B (<a href="https://code.google.com/codejam/contest/2437488/dashboard#s=p1">Pogo</a>):
  <ul>
    <li>Small Set: 2537/3129 users (81%)</li>
    <li>Large Set: 121/638 users (19%)</li>
  </ul>
</li>
<li>Problem C (<a href="https://code.google.com/codejam/contest/2437488/dashboard#s=p2">The Great Wall</a>):
  <ul>
    <li>Small Set: 934/1260 users (74%)</li>
    <li>Large Set: 74/330 users (22%)</li>
  </ul>
</li>
</ul>


<p>More information is on <a href="http://www.go-hero.net/jam/13/round/3">go-hero.net</a>.</p>

<h2>Consonants</h2>


<p>A solution from <a href="http://www.go-hero.net/jam/13/name/nip">nip</a>:</p>

<div class="highlight"><pre><code class="python"><span class="c">#!/usr/bin/env python</span>
<span class="c"># -*- coding: utf-8 -*-</span>

<span class="k">def</span> <span class="nf">solve</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="n">vowels</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;e&#39;</span><span class="p">,</span> <span class="s">&#39;i&#39;</span><span class="p">,</span> <span class="s">&#39;o&#39;</span><span class="p">,</span> <span class="s">&#39;u&#39;</span><span class="p">}</span>
    <span class="n">nvalue</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span> <span class="c"># how many consecutive consonants</span>
    <span class="n">pos</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="c"># position of the last substring of n consonants</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">vowels</span><span class="p">:</span>
            <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">count</span> <span class="o">&gt;=</span> <span class="n">n</span><span class="p">:</span>
            <span class="n">pos</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">-</span> <span class="n">n</span>
        <span class="k">if</span> <span class="n">pos</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">nvalue</span> <span class="o">+=</span> <span class="n">pos</span>
    <span class="k">return</span> <span class="n">nvalue</span>
 
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">testcases</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
      
    <span class="k">for</span> <span class="n">caseNr</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">testcases</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">name</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;Case #</span><span class="si">%i</span><span class="s">: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">caseNr</span><span class="p">,</span> <span class="n">solve</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">))))</span>
</code></pre></div>




<h2>Pogo</h2>


<p>This is a very clever solution from xiaowuc1 (translated from Java to Python).</p>

<p>The idea is to calculate at first the maximum number of steps you need and then go from your target destination to the origin.</p>

<p>How many steps do you need?
In the $i$ round, you will make $i$ steps. You need at least $x+y$ steps to get from $(0|0)$ to $(x|y)$. This means, you need to solve $\sum_{i=1}^n i = x + y$ for $n$. This is $\frac{n<sup>2</sup> + n}{2} = x+y$. You might also need to make one extra step if the parity of $\frac{n<sup>2</sup> + n}{2}$ is not the same as $x+y$.
You can calculate this with a simple loop (see code below).</p>

<p>After you know the maximum number of steps, you can apply a greedy solution: Start from $(x|y)$ and always go into the direction that is farer away from the origin.</p>

<div class="highlight"><pre><code class="python"><span class="c">#!/usr/bin/env python</span>
<span class="c"># -*- coding: utf-8 -*-</span>

<span class="k">def</span> <span class="nf">calculateSteps</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">dist</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">s</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">s</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="o">&lt;</span> <span class="n">dist</span> <span class="ow">or</span> <span class="p">((</span><span class="n">s</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">s</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">!=</span> <span class="n">dist</span><span class="o">%</span><span class="mi">2</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">s</span>
 
<span class="k">def</span> <span class="nf">solve</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; starting at (0|0) and going i steps, </span>
<span class="sd">        how can you reach (x|y)? &quot;&quot;&quot;</span>   
    <span class="n">s</span> <span class="o">=</span> <span class="n">calculateSteps</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
 
    <span class="n">solution</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">abs</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">solution</span> <span class="o">+=</span> <span class="s">&quot;E&quot;</span>
                <span class="n">x</span> <span class="o">-=</span> <span class="n">i</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">solution</span> <span class="o">+=</span> <span class="s">&quot;W&quot;</span>
                <span class="n">x</span> <span class="o">+=</span> <span class="n">i</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">solution</span> <span class="o">+=</span> <span class="s">&quot;N&quot;</span>
                <span class="n">y</span> <span class="o">-=</span> <span class="n">i</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">solution</span> <span class="o">+=</span> <span class="s">&quot;S&quot;</span>
                <span class="n">y</span> <span class="o">+=</span> <span class="n">i</span>
    <span class="k">return</span> <span class="n">solution</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">testcases</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
 
    <span class="k">for</span> <span class="n">caseNr</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">testcases</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">)</span>
        <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="nb">int</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;Case #</span><span class="si">%i</span><span class="s">: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">caseNr</span><span class="p">,</span> <span class="n">solve</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)))</span>
</code></pre></div>




<h2>The Great Wall</h2>


<p>The following solution is not applicable for the large input set, but it works fine for the small one:</p>

<div class="highlight"><pre><code class="python"><span class="c">#!/usr/bin/env python</span>
<span class="c"># -*- coding: utf-8 -*-</span>

<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="k">def</span> <span class="nf">prepareTribes</span><span class="p">(</span><span class="n">tribes</span><span class="p">):</span>
    <span class="n">tribeStack</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">tribe</span> <span class="ow">in</span> <span class="n">tribes</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">attackNumber</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">tribe</span><span class="p">[</span><span class="s">&quot;ni&quot;</span><span class="p">]):</span>
            <span class="n">tribeStack</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s">&quot;day&quot;</span> <span class="p">:</span><span class="n">tribe</span><span class="p">[</span><span class="s">&quot;di&quot;</span><span class="p">]</span><span class="o">+</span><span class="n">attackNumber</span><span class="o">*</span><span class="n">tribe</span><span class="p">[</span><span class="s">&quot;delta_di&quot;</span><span class="p">],</span>
                <span class="s">&quot;west&quot;</span><span class="p">:</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">tribe</span><span class="p">[</span><span class="s">&quot;wi&quot;</span><span class="p">]</span><span class="o">+</span><span class="n">attackNumber</span><span class="o">*</span><span class="n">tribe</span><span class="p">[</span><span class="s">&quot;delta_pi&quot;</span><span class="p">]),</span>
                <span class="s">&quot;east&quot;</span><span class="p">:</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">tribe</span><span class="p">[</span><span class="s">&quot;ei&quot;</span><span class="p">]</span><span class="o">+</span><span class="n">attackNumber</span><span class="o">*</span><span class="n">tribe</span><span class="p">[</span><span class="s">&quot;delta_pi&quot;</span><span class="p">]),</span>
                <span class="s">&quot;height&quot;</span><span class="p">:</span><span class="n">tribe</span><span class="p">[</span><span class="s">&quot;si&quot;</span><span class="p">]</span><span class="o">+</span><span class="n">attackNumber</span><span class="o">*</span><span class="n">tribe</span><span class="p">[</span><span class="s">&quot;delta_si&quot;</span><span class="p">]</span>
            <span class="p">})</span>
    <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">tribeStack</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">tribe</span><span class="p">:</span> <span class="n">tribe</span><span class="p">[</span><span class="s">&quot;day&quot;</span><span class="p">])</span>

<span class="k">def</span> <span class="nf">runAttack</span><span class="p">(</span><span class="n">wall</span><span class="p">,</span> <span class="n">tribe</span><span class="p">):</span>
    <span class="n">increase</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">tribe</span><span class="p">[</span><span class="s">&quot;west&quot;</span><span class="p">],</span> <span class="n">tribe</span><span class="p">[</span><span class="s">&quot;east&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">wall</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">tribe</span><span class="p">[</span><span class="s">&quot;height&quot;</span><span class="p">]:</span> <span class="c"># wall-ee</span>
            <span class="n">increase</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&quot;wallPos&quot;</span> <span class="p">:</span> <span class="n">i</span><span class="p">,</span> <span class="s">&quot;height&quot;</span> <span class="p">:</span> <span class="n">tribe</span><span class="p">[</span><span class="s">&quot;height&quot;</span><span class="p">]})</span>

    <span class="k">return</span> <span class="n">increase</span>

<span class="k">def</span> <span class="nf">solve</span><span class="p">(</span><span class="n">tribes</span><span class="p">):</span>
    <span class="n">wall</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">tribeStack</span> <span class="o">=</span> <span class="n">prepareTribes</span><span class="p">(</span><span class="n">tribes</span><span class="p">)</span>
    <span class="c">#for tribe in tribeStack:</span>
    <span class="c">#    print tribe[&quot;day&quot;], &quot;[&quot; + str(tribe[&quot;west&quot;]) + &quot;,&quot; + str(tribe[&quot;east&quot;])+&quot;]&quot;, tribe[&quot;height&quot;]</span>
    <span class="n">successes</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">increase</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">tribe</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tribeStack</span><span class="p">):</span>
        <span class="n">increaseTmp</span> <span class="o">=</span> <span class="n">runAttack</span><span class="p">(</span><span class="n">wall</span><span class="p">,</span> <span class="n">tribe</span><span class="p">)</span>
        <span class="c">#print wall</span>
        <span class="c">#print tribe</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">increaseTmp</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">successes</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">increase</span> <span class="o">+=</span> <span class="n">increaseTmp</span>

        <span class="k">if</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">==</span><span class="nb">len</span><span class="p">(</span><span class="n">tribeStack</span><span class="p">)</span> <span class="ow">or</span> <span class="n">tribeStack</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="s">&quot;day&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">tribe</span><span class="p">[</span><span class="s">&quot;day&quot;</span><span class="p">]:</span>
            <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">increase</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">wall</span><span class="p">[</span><span class="n">el</span><span class="p">[</span><span class="s">&quot;wallPos&quot;</span><span class="p">]]</span> <span class="o">&lt;</span> <span class="n">el</span><span class="p">[</span><span class="s">&quot;height&quot;</span><span class="p">]:</span>
                    <span class="n">wall</span><span class="p">[</span><span class="n">el</span><span class="p">[</span><span class="s">&quot;wallPos&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">el</span><span class="p">[</span><span class="s">&quot;height&quot;</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">successes</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">testcases</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
      
    <span class="k">for</span> <span class="n">caseNr</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">testcases</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">N</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span> <span class="c"># Number of tribes attacking the wall</span>
        <span class="n">tribes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">tribe</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
            <span class="n">di</span><span class="p">,</span> <span class="n">ni</span><span class="p">,</span> <span class="n">wi</span><span class="p">,</span> <span class="n">ei</span><span class="p">,</span> <span class="n">si</span><span class="p">,</span> <span class="n">delta_di</span><span class="p">,</span> <span class="n">delta_pi</span><span class="p">,</span> <span class="n">delta_si</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">)</span>
            <span class="n">tribes</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&quot;di&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">di</span><span class="p">),</span> <span class="c"># the day of the tribe&#39;s first attack</span>
            <span class="s">&quot;ni&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">ni</span><span class="p">),</span> <span class="c"># the number of attacks from this tribe</span>
            <span class="s">&quot;wi&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">wi</span><span class="p">),</span> <span class="c"># the westmost </span>
            <span class="s">&quot;ei&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">ei</span><span class="p">),</span> <span class="c"># and eastmost points respectively of the Wall attacked on the first attack</span>
            <span class="s">&quot;si&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">si</span><span class="p">),</span> <span class="c"># the strength of the first attack</span>
            <span class="s">&quot;delta_di&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">delta_di</span><span class="p">),</span> <span class="c"># the number of days between subsequent attacks by this tribe</span>
            <span class="s">&quot;delta_pi&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">delta_pi</span><span class="p">),</span> <span class="c"># the distance this tribe travels to the east between subsequent attacks (if this is negative, the tribe travels to the west)</span>
            <span class="s">&quot;delta_si&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">delta_si</span><span class="p">)</span> <span class="c"># the change in strength between subsequent attacks</span>
            <span class="p">})</span>
        <span class="k">print</span><span class="p">(</span><span class="s">&quot;Case #</span><span class="si">%i</span><span class="s">: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">caseNr</span><span class="p">,</span> <span class="n">solve</span><span class="p">(</span><span class="n">tribes</span><span class="p">)))</span>
</code></pre></div>


<p>By the way, nobody has solved the large input set of this one with Python! But here is a <a href="http://www.go-hero.net/jam/13/name/eatmore">Java solution</a>.</p>


<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script>
</div>

            <div class="footer">
    <div class="contact">
      <p>
        Martin<br />
        What You Are<br />
        you@example.com
      </p>
    </div>
    <div class="contact">
      <p>
        <a href="https://github.com/yourusername">github.com/yourusername</a><br />
        <a href="https://twitter.com/yourusername">twitter.com/yourusername</a><br />
      </p>
    </div>
  </div>

        </div>
    </body>
</html>
