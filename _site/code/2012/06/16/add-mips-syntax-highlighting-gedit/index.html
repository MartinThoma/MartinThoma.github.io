<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Add MIPS syntax highlighting to gEdit</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">Martin Thoma</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <h2>Add MIPS syntax highlighting to gEdit</h2>
<p class="meta">16 Jun 2012</p>

<div class="post">
<p>I have to code some little programs in MIPS assembly language for university. So I liked to have some syntax highlighting for my favorite editor: gEdit.</p>

<p>The following steps were tested on Ubuntu 10.04.4 LTS.</p>

<p>This adds MIPS syntax highlighting to gEdit and every editor, that uses gtksourceview.</p>

<p>Create the following file: <code>/usr/share/gtksourceview-2.0/language-specs/sal.lang</code></p>

<p>Source: GITHub: <a href="https://github.com/Xodarap/Mips-Assembly-Syntax-Highlighting">Xodarap / Mips-Assembly-Syntax-Highlighting</a></p>

<p>Copy and paste the following:
[xml]&lt;?xml version="1.0" encoding="UTF-8"?></p>

<!--

 Author: Ben West
 Copyright (C) 2010 Ben West
 edited by Martin Thoma

 This library is free software; you can redistribute it and/or
 modify it under the terms of the GNU Library General Public
 License as published by the Free Software Foundation; either
 version 2 of the License, or (at your option) any later version.

 This library is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 Library General Public License for more details.

 You should have received a copy of the GNU Library General Public
 License along with this library; if not, write to the
 Free Software Foundation, Inc., 59 Temple Place - Suite 330,
 Boston, MA 02111-1307, USA.

-->


<!--
    Somewhat copied and pasted from nasm.lang
-->


<p><language id="mal" _name="MAL" version="2.0" _section="Others">
    <metadata>
      <property name="mimetypes">text/mal</property>
      <property name="globs">*.s</property>
      <property name="line-comment-start">#</property>
    </metadata></p>

<pre><code>&lt;styles&gt;
    &lt;style id="comment"             _name="Comment"                 map-to="def:comment"/&gt;
    &lt;style id="error"               _name="Error"                   map-to="def:error"/&gt;
    &lt;style id="string"              _name="String"                  map-to="def:string"/&gt;
    &lt;style id="preprocessor"        _name="Preprocessor"            map-to="def:preprocessor"/&gt;
    &lt;style id="opcode"              _name="Opcode"                  map-to="def:keyword"/&gt;
    &lt;style id="register"            _name="Register"                map-to="def:special-char"/&gt;
    &lt;style id="type"                _name="Data Type"               map-to="def:type"/&gt;
    &lt;style id="escaped-character"   _name="Escaped Character"       map-to="def:special-char"/&gt;
    &lt;style id="decimal"             _name="Decimal number"      map-to="def:decimal"/&gt;
    &lt;style id="hexadecimal"     _name="Hexadecimal number"  map-to="def:base-n-integer"/&gt;
&lt;style id="label"       _name="Label"           map-to="def:identifier" /&gt;
&lt;/styles&gt;

&lt;default-regex-options case-sensitive="false"/&gt;

&lt;definitions&gt;
    &lt;define-regex id="escaped-character" extended="true"&gt;
        \\(      # leading backslash
        [\\\"\'] # escaped character
        )
    &lt;/define-regex&gt;

    &lt;context id="mal"&gt;
        &lt;include&gt;   
    &lt;context id="preprocessor" style-ref="preprocessor"&gt;
        &lt;prefix&gt;^\.&lt;/prefix&gt;
        &lt;keyword&gt;data&lt;/keyword&gt;
        &lt;keyword&gt;text&lt;/keyword&gt;
    &lt;/context&gt;

            &lt;context id="comment" style-ref="comment" end-at-line-end="true"&gt;
                &lt;start&gt;#&lt;/start&gt;
                &lt;include&gt;
                  &lt;context ref="def:in-line-comment"/&gt;
                &lt;/include&gt;
            &lt;/context&gt;

            &lt;context id="string" style-ref="string" end-at-line-end="true"&gt;
                &lt;start&gt;"&lt;/start&gt;
                &lt;end&gt;"&lt;/end&gt;
                &lt;include&gt;
                    &lt;context id="escaped-characterw" style-ref="escaped-character"&gt;
                        &lt;match&gt;\%{escaped-character}&lt;/match&gt;
                    &lt;/context&gt;
                &lt;/include&gt;
            &lt;/context&gt;
            &lt;context id="string2" style-ref="string" end-at-line-end="true"&gt;
                &lt;start&gt;'&lt;/start&gt;
                &lt;end&gt;'&lt;/end&gt;
                &lt;include&gt;
                    &lt;context id="escaped-characters" style-ref="escaped-character"&gt;
                        &lt;match&gt;\%{escaped-character}&lt;/match&gt;
                    &lt;/context&gt;
                &lt;/include&gt;
            &lt;/context&gt;


        &lt;context id="hexadecimal-number" style-ref="hexadecimal"&gt;
            &lt;match extended="true"&gt;
        (?&amp;amp;lt;![\w\.])
        [+-]?0x[0-9a-fA-F]+
        (?![\w\.])
            &lt;/match&gt;
        &lt;/context&gt;

            &lt;context id="decimal" style-ref="decimal"&gt;
                &lt;match extended="true"&gt;
                    (?&amp;amp;lt;![\w\.])
                    [0-9]+
                    (?![\w\.])
                &lt;/match&gt;
            &lt;/context&gt;

            &lt;context id="registers" style-ref="register"&gt;           
        &lt;match extended="true"&gt;
            (\$
                (
                    \d|[12]\d|3[12]|
                    (ra)|
                    ([vk][01])|
                    (a[0-3t])|
                    (t[0-9])|
                    (s[0-7p])|
                    ([gsf]p)|
                    (zero)
                )
            )\b
        &lt;/match&gt;            
            &lt;/context&gt;

    &lt;context id="label" style-ref="label"&gt;
        &lt;match extended="true"&gt;
            ^\w+:
        &lt;/match&gt;
    &lt;/context&gt;

            &lt;!-- Opcodes --&gt;
    &lt;context id="opcodes_simple" style-ref="opcode"&gt;
        &lt;!-- MAL Opcodes --&gt;
        &lt;keyword&gt;la&lt;/keyword&gt;
        &lt;keyword&gt;li&lt;/keyword&gt;
        &lt;keyword&gt;lw&lt;/keyword&gt;
        &lt;keyword&gt;lb&lt;/keyword&gt;
        &lt;keyword&gt;lbu&lt;/keyword&gt;
        &lt;keyword&gt;sw&lt;/keyword&gt;
        &lt;keyword&gt;sb&lt;/keyword&gt;
        &lt;keyword&gt;add(\.s)?&lt;/keyword&gt;
        &lt;keyword&gt;sub(\.s)?&lt;/keyword&gt;
        &lt;keyword&gt;mul(\.s)?&lt;/keyword&gt;
        &lt;keyword&gt;div(\.s)?&lt;/keyword&gt;
        &lt;keyword&gt;rem&lt;/keyword&gt;
        &lt;keyword&gt;and&lt;/keyword&gt;
        &lt;keyword&gt;or&lt;/keyword&gt;
        &lt;keyword&gt;xor&lt;/keyword&gt;
        &lt;keyword&gt;nor&lt;/keyword&gt;
        &lt;keyword&gt;not&lt;/keyword&gt;
        &lt;keyword&gt;move&lt;/keyword&gt;
        &lt;keyword&gt;sll&lt;/keyword&gt;
        &lt;keyword&gt;srl&lt;/keyword&gt;
        &lt;keyword&gt;sra&lt;/keyword&gt;
        &lt;keyword&gt;l\.s&lt;/keyword&gt;
        &lt;keyword&gt;s\.s&lt;/keyword&gt;
        &lt;keyword&gt;mov\.s&lt;/keyword&gt;
        &lt;keyword&gt;cvt\.s\.w&lt;/keyword&gt;
        &lt;keyword&gt;cvt\.w\.s&lt;/keyword&gt;
        &lt;keyword&gt;mfc0&lt;/keyword&gt;
        &lt;keyword&gt;mtc0&lt;/keyword&gt;
        &lt;keyword&gt;mfc1&lt;/keyword&gt;
        &lt;keyword&gt;mtc1&lt;/keyword&gt;
        &lt;keyword&gt;b&lt;/keyword&gt;
        &lt;keyword&gt;beq&lt;/keyword&gt;
        &lt;keyword&gt;bne&lt;/keyword&gt;
        &lt;keyword&gt;blt&lt;/keyword&gt;
        &lt;keyword&gt;bgt&lt;/keyword&gt;
        &lt;keyword&gt;ble&lt;/keyword&gt;
        &lt;keyword&gt;bge&lt;/keyword&gt;
        &lt;keyword&gt;bltz&lt;/keyword&gt;
        &lt;keyword&gt;bgtz&lt;/keyword&gt;
        &lt;keyword&gt;blez&lt;/keyword&gt;
        &lt;keyword&gt;bgez&lt;/keyword&gt;
        &lt;keyword&gt;bnez&lt;/keyword&gt;
        &lt;keyword&gt;beqz&lt;/keyword&gt;
        &lt;keyword&gt;j&lt;/keyword&gt;
        &lt;keyword&gt;jr&lt;/keyword&gt;
        &lt;keyword&gt;jal&lt;/keyword&gt;
        &lt;keyword&gt;jalr&lt;/keyword&gt;
        &lt;keyword&gt;getc&lt;/keyword&gt;
        &lt;keyword&gt;putc&lt;/keyword&gt;
        &lt;keyword&gt;puts&lt;/keyword&gt;
        &lt;keyword&gt;done&lt;/keyword&gt;
        &lt;keyword&gt;syscall&lt;/keyword&gt;
        &lt;keyword&gt;andi&lt;/keyword&gt;
            &lt;/context&gt;                               

            &lt;context id="types" style-ref="type"&gt;
        &lt;prefix&gt;\.&lt;/prefix&gt;
        &lt;keyword&gt;byte&lt;/keyword&gt;
        &lt;keyword&gt;word&lt;/keyword&gt;
        &lt;keyword&gt;asciiz&lt;/keyword&gt;
        &lt;keyword&gt;ascii&lt;/keyword&gt;
        &lt;keyword&gt;float&lt;/keyword&gt;
            &lt;/context&gt;         
        &lt;/include&gt;
    &lt;/context&gt;
&lt;/definitions&gt;
</code></pre>

<p></language>[/xml]</p>

<p>That's it.</p>

<h2>See also</h2>


<ul>
  <li>Wikipedia: <a href="http://en.wikipedia.org/wiki/MIPS_architecture">MIPS architecture</a></li>
  <li>Wikibooks: <a href="http://en.wikibooks.org/wiki/MIPS_Assembly">MIPS Assembly</a></li>
  <li><a href="http://spimsimulator.sourceforge.net/">SPIM</a> (a MIPS simulator)</li>
</ul>



<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script>
</div>

            <div class="footer">
    <div class="contact">
      <p>
        Martin<br />
        What You Are<br />
        you@example.com
      </p>
    </div>
    <div class="contact">
      <p>
        <a href="https://github.com/yourusername">github.com/yourusername</a><br />
        <a href="https://twitter.com/yourusername">twitter.com/yourusername</a><br />
      </p>
    </div>
  </div>

        </div>
    </body>
</html>
