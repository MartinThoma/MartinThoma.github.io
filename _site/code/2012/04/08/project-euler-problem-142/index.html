<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Project Euler: Problem 142</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">Martin Thoma</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <h2>Project Euler: Problem 142</h2>
<p class="meta">08 Apr 2012</p>

<div class="post">
<p><a href="http://en.wikipedia.org/wiki/Project_Euler">Project Euler</a> is a series of challenging mathematical/computer programming problems that will require more than just mathematical insights to solve. Although mathematics will help you arrive at elegant and efficient methods, the use of a computer and programming skills will be required to solve most problems.</p>

<p>The motivation for starting Project Euler, and its continuation, is to provide a platform for the inquiring mind to delve into unfamiliar areas and learn new concepts in a fun and recreational context.</p>

<p>Today, I would like to discuss problem 142. I've seen a <a href="http://blog.san-ss.com.ar/2011/12/project-euler-problem-142-solved.html">post from Santiago Alessandri</a>, so I liked to do the task by myself.</p>

<p>The task is:</p>

<blockquote>Find the smallest x + y + z with integers $x > y > z > 0$ such that x + y, x - y, x + z, x - z, y + z, y - z are all perfect squares.</blockquote>


<p>I don't want to post the solution (if you want to cheat, I guess you could easily Google it), but some thoughts that might help you to get in the right direction.</p>

<h2>First thought: Brute-force</h2>


<p><a href="http://en.wikipedia.org/wiki/Brute-force_search">Brute-force</a> is the easiest way that could give you the solution. So I wrote this piece of code:</p>

<div class="highlight"><pre><code class="python"><span class="c">#!/usr/bin/python</span>
<span class="c"># -*- coding: utf-8 -*-</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>

<span class="k">def</span> <span class="nf">is_square</span><span class="p">(</span><span class="n">integer</span><span class="p">):</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">integer</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">root</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">==</span> <span class="n">integer</span><span class="p">:</span> 
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1000</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">x</span>
    <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">z</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="n">z</span><span class="p">):</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">is_square</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="n">is_square</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="n">is_square</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">z</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="n">is_square</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="n">is_square</span><span class="p">(</span><span class="n">y</span> <span class="o">+</span> <span class="n">z</span><span class="p">)</span>
                    <span class="ow">and</span> <span class="n">is_square</span><span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="n">z</span><span class="p">)):</span>
                        <span class="k">print</span> <span class="p">(</span><span class="s">&quot;</span><span class="si">%i</span><span class="s"> - </span><span class="si">%i</span><span class="s"> - </span><span class="si">%i</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">))</span>
                        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
</code></pre></div>


<p>This is quite fast until you reach about 500. So this is not a good way to solve it.</p>

<h2>Apply some math</h2>


<p>You can formalize the task like this:
Find the smallest $x, y, z \in \mathbb{N}$, so that:</p>

<ol>
  <li>$x > y > z > 0$</li>
  <li>$a = x + y$</li>
  <li>$b = x - y$</li>
  <li>$c = x + z$</li>
  <li>$d = x - z$</li>
  <li>$e = y + z$</li>
  <li>$f = y - z$</li>
</ol>


<p>With $a, b, c, d, e, f \in Squares$.</p>

<p>Now you can make the following conclusions:</p>

<ol>
  <li>$\overset{A.1, A.2, A.3}{\implies} a > b$</li>
  <li>$\overset{A.1, A.4, A.5}{\implies} c > d$</li>
  <li>$\overset{A.1, A.6, A.7}{\implies} e > f$</li>
</ol>


<ol>
<li><p>$a > c$:
$y > z$
$\Leftrightarrow x + y > x + z$
$\Leftrightarrow a > c$</p></li>
<li><p>$c > e$:
$x > y$
$\Leftrightarrow x + z > y + z$
$c > e$</p></li>
<li><p>a is the biggest element (see B.1, B.4, B.6)</p></li>
<li><p>$b &lt; c$:
$-y &lt; z$
$\Leftrightarrow x - y &lt; x + z$
$b &lt; c$</p></li>
<li><p>c is the second biggest element (see B.7, B.2, B.5, B.8)</p></li>
<li><p>$b &lt; d$:
$ y > z$
$\Leftrightarrow -y &lt; -z$
$\Leftrightarrow x - y &lt; x - z$
$b &lt; d$</p></li>
<li><p>$d > f$:
$ x > y$
$\Leftrightarrow x - z > y - z$
$d > f$</p></li>
<li><p>I can't tell anything about the relationship between:</p></li>
</ol>


<ul>
  <li>d and e</li>
  <li>b and f</li>
  <li>b and e</li>
</ul>


<p>Lets conclude:
[caption id="attachment_21421" align="aligncenter" width="298" caption="Graph that visualizes the situation of the squares of Euler 142"]<a href="http://martin-thoma.com/wp-content/uploads/2012/04/euler-142-graph.png"><img src="http://martin-thoma.com/wp-content/uploads/2012/04/euler-142-graph.png" alt="Graph that visualizes the situation of the squares of Euler 142" title="Graph that visualizes the situation of the squares of Euler 142" width="298" height="400" class="size-full wp-image-21421" /></a>[/caption]</p>

<p>You also know:</p>

<p>$x = \frac{a - b}{2} \implies \text{ (a - b) has to be even} \implies \text{a and b have the same parity.}$
The same argumentation can be used for (c, d) and (e, f).</p>

<p>$x > y > z > 0 \land a = x + y \implies a \geq 5$.</p>

<p>With this in mind you don't have to loop over three variables but only over two. This is much faster. As z is over 1000 you need it. My new script took about 1.5 minutes.</p>

<h2>Material</h2>


<p>Some material like the LaTeX-file can be found in the <a href='http://martin-thoma.com/wp-content/uploads/2012/04/euler-142.zip'>Project Euler 142 Archive</a>.</p>


<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    processEscapes: true
  }
});
</script>
</div>

            <div class="footer">
    <div class="contact">
      <p>
        Martin<br />
        What You Are<br />
        you@example.com
      </p>
    </div>
    <div class="contact">
      <p>
        <a href="https://github.com/yourusername">github.com/yourusername</a><br />
        <a href="https://twitter.com/yourusername">twitter.com/yourusername</a><br />
      </p>
    </div>
  </div>

        </div>
    </body>
</html>
