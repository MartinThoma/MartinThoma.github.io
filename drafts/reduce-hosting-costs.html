<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Martin Thoma" />
        <meta name="copyright" content="Martin Thoma" />
        <link title = "Martin Thoma"
              type  = "application/opensearchdescription+xml"
              rel   = "search"
              href  = "../opensearch.xml">

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="Code, CMS, My bits and bytes, " />

<meta property="og:title" content="How I reduced my Hosting Costs "/>
<meta property="og:url" content="drafts/reduce-hosting-costs.html" />
<meta property="og:description" content="Recently, the provider which I used for many years and which I was happy enough to not touch martin-thoma.de, moved. I had to change all my database credentials, so during the migration everything broke. And they just left a notice &#34;by the way, you have to pay 12x the â€¦" />
<meta property="og:site_name" content="Martin Thoma" />
<meta property="og:article:author" content="Martin Thoma" />
<meta property="og:article:published_time" content="2020-03-15T20:00:00+01:00" />
<meta name="twitter:title" content="How I reduced my Hosting Costs ">
<meta name="twitter:description" content="Recently, the provider which I used for many years and which I was happy enough to not touch martin-thoma.de, moved. I had to change all my database credentials, so during the migration everything broke. And they just left a notice &#34;by the way, you have to pay 12x the â€¦">
<meta property="og:image" content="logos/star.png" />
<meta name="twitter:image" content="logos/star.png" >

        <title>How I reduced my Hosting Costs  Â· Martin Thoma
</title>
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="../theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="../theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="../theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="../static/print.css" media="print">
        <link rel="stylesheet" type="text/css" href="../static/custom.css" media="screen">

        <!-- MathJax -->
<script type="text/x-mathjax-config">
<!--
MathJax.Hub.Config({
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [ ['$$', '$$'], ['\\[','\\]']],
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
    processEscapes: true
  }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
// -->
</script>
<script type="text/javascript" async
  src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

        <link href="https://martin-thoma.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Martin Thoma - Full Atom Feed" />
        <link href="https://martin-thoma.com/feeds/index.xml" type="application/rss+xml" rel="alternate" title="Martin Thoma - Full RSS Feed" />
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top navbar-default">
            <div class="container">
                <div class="container-fluid">
                    <div class="collapse navbar-collapse">
                        <ul class="nav pull-left top-menu navbar-nav">
                            <li><a href=".." style="font-family: 'Monaco', 'Inconsolata', 'Andale Mono', 'Lucida Console', 'Bitstream Vera Sans Mono', 'Courier New', Courier, Monospace;
                        font-size: 20px;" class="navbar-brand" tabindex="-1">Martin Thoma</a>
                            </li>
                        </ul>
                        <ul class="nav pull-right top-menu navbar-nav">
                            <li ><a href="..">Home</a></li>
                            <li ><a href="../categories.html">Categories</a></li>
                            <li ><a href="../tags.html">Tags</a></li>
                            <li ><a href="../archives.html">Archives</a></li>
                            <li><a href="../support-me/">Support me</a></li>
                            <li><form class="navbar-form" action="../search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="search" class="search-query form-control" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-1 col-md-1"></div>
                <div class="col-sm-10 col-md-10">
<!-- article.html -->
<article>
<div class="row">
    <header class="page-header col-sm-10 col-md-10 col-md-offset-2">
    <h1><a href="../drafts/reduce-hosting-costs.html">How I reduced my Hosting Costs</a></h1>
    </header>
</div>

<div class="row">
    <div class="col-sm-2 col-md-2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div id="toc"><ul><li><a class="toc-href" href="#" title="How I reduced my Hosting Costs">How I reduced my Hosting Costs</a><ul><li><a class="toc-href" href="#wiki" title="Wiki">Wiki</a><ul><li><a class="toc-href" href="#interesting-stuff-i-found" title="Interesting Stuff I found">Interesting Stuff I found</a></li></ul></li><li><a class="toc-href" href="#write-mathcom_1" title="write-math.com">write-math.com</a><ul><li><a class="toc-href" href="#ssh" title="SSH">SSH</a></li><li><a class="toc-href" href="#python" title="Python">Python</a></li></ul></li><li><a class="toc-href" href="#aws_1" title="AWS">AWS</a></li><li><a class="toc-href" href="#other-hosting-services" title="Other Hosting Services">Other Hosting Services</a></li></ul></li></ul></div>
        </nav>
    </div>
    <div class="col-sm-8 col-md-8 article-content" id="contentAfterTitle">

            
            <p>Recently, the provider which I used for many years and which I was happy enough
to not touch martin-thoma.de, moved. I had to change all my database
credentials, so during the migration everything broke. And they just left a
notice "by the way, you have to pay 12x the price as you use too much space in
the MySQL database".</p>
<p>So I talked with a good friend about it and realized that I might not need
the database at all anymore.</p>
<p>In this article, I document how I moved.</p>
<h2 id="wiki">Wiki</h2>
<p>I had an internal MediaWiki which I used to store notes. Nothing fancy, it was
public in the beginning and started with notes for school. Back then, I didn't
know git and I'm not quite sure if GitHub existed back then.</p>
<p>This wiki always caused me headaches:</p>
<ul>
<li><strong>Security</strong>: Almost all things in there were no issue at all of anybody sees
  them, but some I would prefer to stay private. So I need to make sure that
  the overall system is save.</li>
<li><strong>Stability</strong>: Can I keep this thing running? What happens if my provider
  updates the PHP version? Remember, that thing was pretty old and I had to
  update the MediaWiki version once. That was not so nice. Also, how can I make
  backups? In the beginning, I couldn't access the database with the <code>mysql</code>
  client (might have bin lacking knowledge; I don't remember)</li>
<li><strong>Media</strong><ul>
<li><strong>Bugs</strong>: I had one or two big images (over 2000px x 2000px) which were
  only partially uploaded. I will never get them back.</li>
<li><strong>Time</strong>: Uploading actually is a bit time consuming as you have to do it
  file by file</li>
</ul>
</li>
<li><strong>Markup</strong>: I don't like the Wiki-Markup. I prefer Github Flavored Markdown
  with HTML for anything more complex.</li>
</ul>
<p>The solution now seemed simple: <strong>Migrate the content to a git repository!</strong></p>
<p>This way I can back it up like I do with other local files, I don't have it
online so the risk of it being exposed is way smaller, I can use markdown,
uploading Media is only copying a file. I like it ðŸ™‚</p>
<p>During the migration I've also realized that his Wiki has a big overlap with my
blog. Only that I can very easily see the contents of my blog. And a lot of the
content was super outdated or even riddiculous. For example, I listed a lot of
Open Source software with their licenses once. I have no idea why.</p>
<p>Most pages I've linked to were dead - the domains still existed, but the page
was moved. Astonishingly, the student pages seemed to be quite reliable.
YouTube, in contrast, was almost always unavailable. So much about "the
internet does not forget".</p>
<p>In total, it was 30 MB of data in 256 files. Lots of them were low-resolution
images.</p>
<h3 id="interesting-stuff-i-found">Interesting Stuff I found</h3>
<blockquote>
<p>How do crazy people go through the forest? They take the Psychopath!</p>
<p>How do you get holy water? You boil the Hell out of it!</p>
</blockquote>
<hr/>
<p>In 2010 I already described how newspapers work nowadays:</p>
<ul>
<li>Have a website with a subscription model</li>
<li>Build a profile of readers</li>
<li>Recommend articles</li>
<li>Let people also pay for single articles</li>
</ul>
<p>I'm not 100% certain, but I think this was either uncommon or didn't exist back
then.</p>
<hr/>
<p>There is another reason I used the wiki. Sometimes I needed to see diffs
and I didn't know <a href="https://meldmerge.org/">meld</a> then ðŸ˜„</p>
<h2 id="write-mathcom_1">write-math.com</h2>
<p>I had a bit weird solution here:</p>
<ul>
<li>5.00 USD / month for a Digital Ocean Droplet where the machine learning stuff was running</li>
<li>13.16 USD / year for <a href="https://www.namecheap.com/domains/registration/gtld/com/">.com domain renewal at namecheap</a></li>
<li>30.73 EUR / year for the database - this is the one I used for multiple things and also the one I want to get rid of</li>
</ul>
<p>So you could say that I paid about 100 EUR / year for write-math.com.</p>
<p>I switched to Namecheap "Stellar" shared server hosting. They use <a href="https://www.namecheap.com/support/knowledgebase/article.aspx/129/22/what-version-of-the-software-is-used-on-your-servers">cPanel and
3.7.3</a>. This way I can remove the Digital Ocean droplet and instead run it at Namecheap. I removed the need for the database entirely.</p>
<p>Now I pay 17.28 USD/year for the hosting and 13.16 USD for the domain. So 30.44 USD / year or about 28 EUR / year.</p>
<h3 id="ssh">SSH</h3>
<p>First thing to do was to add my SSH key - only the public one (<a href="https://www.namecheap.com/support/knowledgebase/article.aspx/9428/89/how-to-connect-via-ssh-using-keys">docs</a>). Then go to the
"Manage Shell" part, "Enable SSH access" and "authorize" the added key.</p>
<p>Now you can access it via</p>
<div class="highlight"><pre><span></span><code>ssh USER@SERVER --port<span class="o">=</span>PORT
</code></pre></div>
<ul>
<li>USER: cPanel username</li>
<li>SERVER: hostname/IP of the server you are connecting to</li>
<li>PORT: 21098 for a Shared server</li>
</ul>
<h3 id="python">Python</h3>
<p>Setting up a <a href="https://www.namecheap.com/support/knowledgebase/article.aspx/10048/2182/how-to-work-with-python-app/">Python app via cPanel</a> is easy. Basically it
creates a virtual environment for you. They use an Apache Webserver with
<a href="https://en.wikipedia.org/wiki/Phusion_Passenger">Phusion Passenger</a></p>
<p>There is a <code>passengar_wsgi.py</code></p>
<p>See also:</p>
<ul>
<li>https://help.krystal.uk/python/creating-a-python-app-using-the-django-framework</li>
<li>https://www.internetivo.com/clients/knowledgebase/99/Start-your-Python-Django-app-on-cPanel.html</li>
<li>https://help.dreamhost.com/hc/en-us/articles/215769548-Passenger-and-Python-WSGI</li>
<li>https://docs.cpanel.net/knowledge-base/web-services/how-to-install-a-python-wsgi-application/</li>
<li>https://www.phusionpassenger.com/library/walkthroughs/start/python.html</li>
<li>https://www.phusionpassenger.com/docs/tutorials/quickstart/python/</li>
</ul>
<p>I was a bit confused because there was a wsgi.py automatically created which
overwrote my wsgi.py. Luckily, I use git and could simply run <code>git checkout .</code></p>
<h2 id="aws_1">AWS</h2>
<p>If you want to run the website on AWS, you have to pay at least one EC2 instance.
With <code>t2.small</code>, this would be 0.023 USD/h which means 10.08 USD / month
(<a href="https://aws.amazon.com/de/ec2/instance-types/t2/">EC2 prices</a>). You might
also want to use AWS RDS which is pretty expensive. You can also <a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/domain-register-update.html">register
domains via AWS Route 53</a>.
It's 9 USD / year for .de domains and 12 USD / year for .com domains</p>
<p>A <a href="https://aws.amazon.com/de/getting-started/projects/build-wordpress-website/services-costs/">guide by AWS</a>
would lead to 450 USD/month for hosting a Wordpress blog.</p>
<p><a href="https://www.youtube.com/watch?v=IFeA0jh36WQ">Craigerson</a> says that he pays
only around 11 USD per month.</p>
<h2 id="other-hosting-services">Other Hosting Services</h2>
<p>They differ in:</p>
<ul>
<li>Time to first byte: That is pretty high for namecheap</li>
<li>Price per month</li>
<li>Availability</li>
</ul>
<p>See:</p>
<ul>
<li>https://www.hostinger.com/web-hosting</li>
<li>https://www.bluehost.com/hosting/shared</li>
<li>https://docs.google.com/spreadsheets/d/e/2PACX-1vTXQ11WibUUePRjr4k2HAFS3t0P_mRJVLLQgvKCdisiEUZS8jg3Z2eSLB9uBbsNzOJ2MLdkr9jWPQpC/pubhtml?fbclid=IwAR1wpUGuQr4kb3HcSMUsKG4-ywB7uIgWR3OngKQJomRM71GOkB1a5plyUkg</li>
</ul>
            
            <div id="disqus_thread" class="no-print"></div>
<script>
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
        var d = document, s = d.createElement('script');

        s.src = '//martinthoma.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

            <hr/>
        </div>
        <section>
        <div class="col-sm-2 col-md-2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2020-03-15T20:00:00+01:00">MÃ¤r 15, 2020</time>
            <br/>
            by <a rel="author" class="vcard author post-author" itemprop="author" href="../author/martin-thoma/"><span class="fn" itemscope="" itemtype="https://schema.org/Person"><span itemprop="name">Martin Thoma</span></span></a>
            <h4>Category</h4>
            <a class="category-link" href="../categories.html#my-bits-and-bytes-ref">My bits and bytes</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="../tags.html#cms-ref">CMS
                    <span>1</span>
</a></li>
                <li><a href="../tags.html#code-ref">Code
                    <span>9</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="https://twitter.com/_martinthoma" title="My Twitter Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-twitter sidebar-social-links"></i></a>
    <a href="mailto:info@martin-thoma.de" title="My Email Address" class="sidebar-social-links" target="_blank">
    <i class="fa fa-envelope sidebar-social-links"></i></a>
    <a href="https://github.com/MartinThoma" title="My Github Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-github sidebar-social-links"></i></a>
    <a href="http://stackoverflow.com/users/562769/martin-thoma" title="My Stackoverflow Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-stackoverflow sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="col-sm-1 col-md-1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer class="no-print">
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-subtitle"><span class="site-name">Martin Thoma</span> - A blog about Code, the Web and Cyberculture</li>
        <li><a href="https://martin-thoma.com/email-subscription">E-mail subscription</a></li>
        <li><a href="https://martin-thoma.com/feeds/index.xml">RSS-Feed</a></li>
        <li><a href="http://www.martin-thoma.de/privacy.htm">Privacy/Datenschutzerkl&auml;rung</a></li>
        <li><a href="http://www.martin-thoma.de/impressum.htm">Impressum</a></li>
        <li class="elegant-power">Powered by
            <a href="https://blog.getpelican.com/" title="Pelican Home Page" tabindex="-1">Pelican</a>.
            Theme: <a href="https://elegant.oncrashreboot.com" title="Theme Elegant Home Page" tabindex="-1">Elegant</a>
            by <a href="https://www.oncrashreboot.com/" title="Talha Mansoor Home Page" tabindex="-1">Talha Mansoor</a></li>
    </ul>
</div>
</footer>        <script src="//code.jquery.com/jquery.min.js"></script>
        <!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>
        <script>
(function(){
    'use strict';

    /*
    Create intra-page links
    Requires that your headings already have an `id` attribute set
    For every heading in your page, this adds a little anchor link `#` that you can click to get a permalink to the heading.
    Ignores `h1`, because you should only have one per page.
    The text content of the tag is used to generate the link, so it will fail "gracefully-ish" if you have duplicate heading text.

    Credit: https://gist.github.com/SimplGy/a229d25cdb19d7f21231
     */

    var headingNodes = [], results, link,
        tags = ['h2', 'h3', 'h4', 'h5', 'h6'];

    tags.forEach(function(tag){
        var contentTag = document.getElementById('contentAfterTitle');
      results = contentTag.getElementsByTagName(tag);
      Array.prototype.push.apply(headingNodes, results);
    });

    headingNodes.forEach(function(node){
      link = document.createElement('a');
      link.className = 'deepLink';
      link.textContent = ' Â¶';
      link.href = '#' + node.getAttribute('id');
      node.appendChild(link);
    });

  })();
</script>
    </body>
    <!-- Theme: Elegant built for Pelican
    License : https://elegant.oncrashreboot.com -->
</html>