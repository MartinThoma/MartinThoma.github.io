<!DOCTYPE html>
<html lang="en">
  <!-- type: head.html -->
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    
    

    

    <meta property="og:type" content="blog"/>

    <title>Linux access rights and attributes</title>
    <link rel="stylesheet" href="//martin-thoma.com/css/screen.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="//martin-thoma.com/css/style.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="//martin-thoma.com/css/pygments.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="//martin-thoma.com/css/tocplus-screen.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="//martin-thoma.com/css/print.css" type="text/css" media="print" />
    <link rel="stylesheet" href="//martin-thoma.com/css/handheld.css" type="text/css" media="only screen and (max-device-width: 480px)" />

    <link rel="alternate" type="application/rss+xml" title="Martin Thoma RSS Feed" href="//martin-thoma.com/feed/" /><!--TODO-->
    <link rel="shortcut icon" href="//martin-thoma.com/favicon.ico" type="image/x-icon" />

    <link rel="canonical" href="//martin-thoma.com/linux-access-rights-and-attributes" />
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:site" content="@themoosemind"/>
<meta name="twitter:creator" content="@themoosemind"/>
<meta name="twitter:title" content="Linux access rights and attributes"/>

    <meta name="twitter:description" content="A blog about Code, the Web and Cyberculture" />




<meta name="twitter:url" content="//martin-thoma.com/linux-access-rights-and-attributes"/>
<meta name="twitter:domain" content="Martin Thoma.com"/>


    <script type='text/javascript' src="//martin-thoma.com/js/jquery.js"></script>
    <script type='text/javascript' src="//martin-thoma.com/js/jquery-migrate.min.js"></script>
    <style type="text/css">div#toc_container {width: 275px;}</style>
    <style type="text/css" id="syntaxhighlighteranchor"></style>

<!-- MathJax -->
<script type="text/x-mathjax-config">
<!--
MathJax.Hub.Config({
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [ ['$$', '$$'], ['\\[','\\]']],
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
    processEscapes: true
  }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
// -->
</script>
<script type="text/javascript" async
  src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<!-- Latest compiled and minified CSS bootstrap -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
</head>

<!-- type: post.html -->
<body>
    <div id="wrapper">
        <div id="container" class="container">
            <div class="span-16">
                <!-- type: header.html -->
<div id="header" role="banner">
    <h1><a href="//martin-thoma.com">Martin Thoma</a></h1>
    <h2 style="margin-top: 0;">A blog about Code, the Web and Cyberculture.</h2>
</div>
<nav class="navcontainer" role="navigation">
    <ul id="nav">
        <li class=""><a href="//martin-thoma.com">Home</a></li>
        <li class="page_item page-item-41 "><a href="//martin-thoma.com/author/martin-thoma/">About Me</a></li>
        <li class="page_item page-item-91 "><a href="//martin-thoma.com/imprint/">Imprint</a></li>
    </ul>
</nav>

                <div id="content">
                    <article class="post type-post format-standard hentry clearfix ">
                        <h2 class="title entry-title">Linux access rights and attributes</h2>
                        <div class="postdate entry-date">
                            <time datetime="2013-03-04T22:29:42+01:00">
                                March
                                4th,
                                  
                                2013
                            </time>
                        </div>

                        <div class="entry" id="contentAfterTitle">
                            <div id="toc_container" class="toc_light_blue no_bullets">
   <p class="toc_title">Contents</p>
   <ul class="toc_list">
      <li class="toc_level-1 toc_section-1">
         <a href="#tocAnchor-1-1"><span class="tocnumber">1</span> <span class="toctext">RWX</span></a>
         <ul>
            <li class="toc_level-2 toc_section-2">
               <a href="#tocAnchor-1-1-1"><span class="tocnumber">1.1</span> <span class="toctext">Files</span></a>
            </li>
            <li class="toc_level-2 toc_section-3">
               <a href="#tocAnchor-1-1-2"><span class="tocnumber">1.2</span> <span class="toctext">Folders</span></a>
            </li>
         </ul>
      </li>
      <li class="toc_level-1 toc_section-4">
         <a href="#tocAnchor-1-4"><span class="tocnumber">2</span> <span class="toctext">User, Group, Others</span></a>
      </li>
      <li class="toc_level-1 toc_section-5">
         <a href="#tocAnchor-1-5"><span class="tocnumber">3</span> <span class="toctext">SUID, SGID, Sticky Bit</span></a>
         <ul>
            <li class="toc_level-2 toc_section-6">
               <a href="#tocAnchor-1-5-1"><span class="tocnumber">3.1</span> <span class="toctext">Files</span></a>
            </li>
            <li class="toc_level-2 toc_section-7">
               <a href="#tocAnchor-1-5-2"><span class="tocnumber">3.2</span> <span class="toctext">Folders</span></a>
            </li>
         </ul>
      </li>
      <li class="toc_level-1 toc_section-8">
         <a href="#tocAnchor-1-8"><span class="tocnumber">4</span> <span class="toctext">Type</span></a>
      </li>
      <li class="toc_level-1 toc_section-9">
         <a href="#tocAnchor-1-9"><span class="tocnumber">5</span> <span class="toctext">stat</span></a>
      </li>
      <li class="toc_level-1 toc_section-10">
         <a href="#tocAnchor-1-10"><span class="tocnumber">6</span> <span class="toctext">Attributes</span></a>
         <ul>
            <li class="toc_level-2 toc_section-11">
               <a href="#tocAnchor-1-10-1"><span class="tocnumber">6.1</span> <span class="toctext">Version</span></a>
            </li>
            <li class="toc_level-2 toc_section-12">
               <a href="#tocAnchor-1-10-2"><span class="tocnumber">6.2</span> <span class="toctext">Append only</span></a>
            </li>
            <li class="toc_level-2 toc_section-13">
               <a href="#tocAnchor-1-10-3"><span class="tocnumber">6.3</span> <span class="toctext">Immutable</span></a>
            </li>
            <li class="toc_level-2 toc_section-14">
               <a href="#tocAnchor-1-10-4"><span class="tocnumber">6.4</span> <span class="toctext">Secure deletion and undeletable</span></a>
            </li>
            <li class="toc_level-2 toc_section-15">
               <a href="#tocAnchor-1-10-5"><span class="tocnumber">6.5</span> <span class="toctext">Synchronous update</span></a>
            </li>
         </ul>
      </li>
   </ul>
</div><h2 id="tocAnchor-1-1">RWX</h2>
<h3 id="tocAnchor-1-1-1">Files</h3>
<p>Linux files have three important access rights for files:</p>
<ul>
  <li><strong>R</strong>ead</li>
  <li><strong>W</strong>rite</li>
  <li>E<strong>x</strong>ecute</li>
</ul>

<p>If you want to mark a file as executable, you can add the x-right:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1" id="n1">1</a></span>chmod +x
</pre></div>
</div>
</div>

<p>When you want to mark a file as readable, you can dd the r-right:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1" id="n1">1</a></span>chmod +r
</pre></div>
</div>
</div>

<p>You can remove rights in a similar way:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1" id="n1">1</a></span>chmod -x testfile
</pre></div>
</div>
</div>

<p>Now, often this is expressed numerically. Three bits determine if the file is readable (4), writable (2) or executable (1). Did you notice that all of them are powers of two?</p>

<h3 id="tocAnchor-1-1-2">Folders</h3>
<p>rwx has a meaning for folders, too:</p>
<ul>
  <li><strong>R</strong>ead: if that is missing, you can't use <code>ls</code> in the directory.</li>
  <li><strong>W</strong>rite: you need this to create new files / folders in the direcotry</li>
  <li><strong>x</strong> ... like "enter"?: if that is missing, you can't enter the directory.</li>
</ul>

<h2 id="tocAnchor-1-4">User, Group, Others</h2>
<p>The rights above can be set for the user who created the file (sometimes also called the owner). Then the group that owns the file and all others. This is the reason why you have three times the rights from above:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1" id="n1">1</a></span>moose@pc07:~/Downloads$ ls -l
<span class="line-numbers"> <a href="#n2" name="n2" id="n2">2</a></span>total 29624
<span class="line-numbers"> <a href="#n3" name="n3" id="n3">3</a></span>drwxr-xr-x  8 moose moose     4096 2013-02-22 14:18 algorithms
<span class="line-numbers"> <a href="#n4" name="n4" id="n4">4</a></span>-rw-r--r--  1 moose moose    60058 2013-02-11 08:00 args4j-2.0.21.jar
<span class="line-numbers"> <a href="#n5" name="n5" id="n5">5</a></span>drwxr-xr-x  6 moose moose     4096 2013-02-25 20:07 bwinf
<span class="line-numbers"> <a href="#n6" name="n6" id="n6">6</a></span>-rw-r--r--  1 moose moose 22160041 2013-02-05 16:45 DT2012.zip
<span class="line-numbers"> <a href="#n7" name="n7" id="n7">7</a></span>drwxr-xr-x  8 moose moose     4096 2013-02-28 19:23 graphentheorie
<span class="line-numbers"> <a href="#n8" name="n8" id="n8">8</a></span>-rw-r--r--  1 moose moose  2164878 2013-02-22 12:38 guava-14.0-rc1.jar
<span class="line-numbers"> <a href="#n9" name="n9" id="n9">9</a></span>-rw-r--r--  1 moose moose  2705344 2013-03-01 21:07 HardVacuum.zip
<span class="line-numbers"><strong><a href="#n10" name="n10" id="n10">10</a></strong></span>drwxr-xr-x  8 moose moose     4096 2013-02-05 16:38 informatik-2011
<span class="line-numbers"><a href="#n11" name="n11" id="n11">11</a></span>-rw-r--r--  1 moose moose   111926 2013-02-24 19:09 Jim_Keener_resume.pdf
<span class="line-numbers"><a href="#n12" name="n12" id="n12">12</a></span>drwxr-xr-x  2 moose moose     4096 2011-11-08 11:50 juniper_linux
<span class="line-numbers"><a href="#n13" name="n13" id="n13">13</a></span>-rw-r--r--  1 moose moose   288666 2012-12-04 11:38 junit-4.11.jar
<span class="line-numbers"><a href="#n14" name="n14" id="n14">14</a></span>drwxr-xr-x 13 moose moose     4096 2013-02-01 23:33 LaTeX-examples
<span class="line-numbers"><a href="#n15" name="n15" id="n15">15</a></span>drwxr-xr-x  2 moose moose     4096 2009-08-11 17:04 otrdecoder
<span class="line-numbers"><a href="#n16" name="n16" id="n16">16</a></span>-rw-r--r--  1 moose moose   728292 2013-03-01 19:33 PlanetCute PNG.zip
<span class="line-numbers"><a href="#n17" name="n17" id="n17">17</a></span>drwxr-xr-x  2 moose moose     4096 2012-11-13 10:49 ProjectEuler
<span class="line-numbers"><a href="#n18" name="n18" id="n18">18</a></span>drwxr-xr-x  2 moose moose     4096 2013-03-04 20:28 Screenshots Matlab
<span class="line-numbers"><a href="#n19" name="n19" id="n19">19</a></span>-rw-r--r--  1 moose moose   764196 2013-03-04 20:28 Screenshots Matlab.zip
<span class="line-numbers"><strong><a href="#n20" name="n20" id="n20">20</a></strong></span>-rw-r--r--  1 moose moose   534614 2013-03-01 19:48 spritelib_gpl.zip
<span class="line-numbers"><a href="#n21" name="n21" id="n21">21</a></span>drwxr-xr-x  8 moose moose     4096 2013-02-27 18:36 Team
<span class="line-numbers"><a href="#n22" name="n22" id="n22">22</a></span>drwxr-xr-x  5 moose moose     4096 2013-02-27 19:17 ViMuDat
</pre></div>
</div>
</div>

<p>You might wonder what happens when you execute <code>chmod +x filename</code>. Does it set the execute-flag only for the user? Or for all three - user, group, others? Try and find out. You might want to remove all rights with <code>chmod 000 filename</code> before you start.</p>

<p>Did you know that you can search for file permissions with <code>find /home/ -perm 777</code>?</p>

<h2 id="tocAnchor-1-5">SUID, SGID, Sticky Bit</h2>
<h3 id="tocAnchor-1-5-1">Files</h3>
<p>Sometimes, you want to execute programs as root, although the user who started the execution isn’t root. Take passwd, the program that allows users to change passwords, for example:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1" id="n1">1</a></span>moose@pc07:/usr/bin$ ls -l | grep passwd$
<span class="line-numbers"><a href="#n2" name="n2" id="n2">2</a></span>-rwsr-xr-x 1 root   root       53812 2011-02-14 23:11 gpasswd
<span class="line-numbers"><a href="#n3" name="n3" id="n3">3</a></span>-rwxr-xr-x 1 root   root       13612 2012-11-06 21:41 htpasswd
<span class="line-numbers"><a href="#n4" name="n4" id="n4">4</a></span>-rwsr-xr-x 1 root   lpadmin    13540 2012-12-04 16:24 lppasswd
<span class="line-numbers"><a href="#n5" name="n5" id="n5">5</a></span>-rwsr-xr-x 1 root   root       37140 2011-02-14 23:11 passwd
<span class="line-numbers"><a href="#n6" name="n6" id="n6">6</a></span>-rwxr-xr-x 1 root   root     5070304 2012-04-24 23:38 smbpasswd
<span class="line-numbers"><a href="#n7" name="n7" id="n7">7</a></span>-rwxr-xr-x 1 root   root        9688 2013-01-18 17:59 vino-passwd
</pre></div>
</div>
</div>

<p>Instead of “x” in the user-execution-row, it states “s”. That means, you can execute it and it has the SUID-bit set. If “x” wasn’t set, the “S” would be in a capital letter. When you change your password, you need to edit <code>/etc/shadow</code>. This file has very limited access rights: <code>-rw-r-----</code> and is owned by “root” and group “shadow”:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1" id="n1">1</a></span>moose@pc07:/etc$ ls -l | grep shadow$
<span class="line-numbers"><a href="#n2" name="n2" id="n2">2</a></span>-rw-r-----  1 root    shadow     813 2013-01-24 06:21 gshadow
<span class="line-numbers"><a href="#n3" name="n3" id="n3">3</a></span>-rw-r-----  1 root    shadow    1274 2013-01-24 06:21 shadow
</pre></div>
</div>
</div>

<p>Here is <a href="http://www.cyberciti.biz/faq/understanding-etcshadow-file/">more about shadow file</a>.</p>

<p>The SGID (set group id) bit works similar to the SUID (set user id) bit. When you want to execute something with as the group of the file, you set the SGID bit.</p>

<p>The sticky bit seems to be used for programs to stick in memory after it was finished.</p>

<p>You can set the sticky bit like this:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1" id="n1">1</a></span>chmod +t testfile
</pre></div>
</div>
</div>

<p>or like that:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1" id="n1">1</a></span>chmod 1777 testfile
</pre></div>
</div>
</div>

<h3 id="tocAnchor-1-5-2">Folders</h3>
<ul>
  <li>suid: is ignored on UNIX and Linux systems</li>
  <li>sgid: new files and subdirectories created within this folder inherit the folders group ID</li>
  <li>t: when the sticky bit is set, only owners may change the filename or delete files</li>
</ul>

<h2 id="tocAnchor-1-8">Type</h2>
<p>The first column of <code>ls -l</code> tells you the type of the item:</p>

<ul>
  <li>-: a file</li>
  <li>b: a block device</li>
  <li>c: a character device</li>
  <li>d: a directory</li>
  <li>l: a symbolic link</li>
  <li>p: pipe</li>
  <li>s: a socket</li>
</ul>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1" id="n1">1</a></span>moose@pc07:/dev$ ls -l
<span class="line-numbers"> <a href="#n2" name="n2" id="n2">2</a></span>total 0
<span class="line-numbers"> <a href="#n3" name="n3" id="n3">3</a></span>crw-------  1 root video    10, 175 2013-03-04 10:01 agpgart
<span class="line-numbers"> <a href="#n4" name="n4" id="n4">4</a></span>crw-rw----+ 1 root audio    14,   4 2013-03-04 10:01 audio
<span class="line-numbers"> <a href="#n5" name="n5" id="n5">5</a></span>drwxr-xr-x  2 root root         640 2013-03-04 12:59 block
<span class="line-numbers"> <a href="#n6" name="n6" id="n6">6</a></span>drwxr-xr-x  2 root root         100 2013-03-04 12:59 bsg
<span class="line-numbers"> <a href="#n7" name="n7" id="n7">7</a></span>drwxr-xr-x  3 root root          60 2013-03-04 10:01 bus
<span class="line-numbers"> <a href="#n8" name="n8" id="n8">8</a></span>lrwxrwxrwx  1 root root           3 2013-03-04 10:01 cdrom -&gt; sr0
<span class="line-numbers"> <a href="#n9" name="n9" id="n9">9</a></span>lrwxrwxrwx  1 root root           3 2013-03-04 10:01 cdrw -&gt; sr0
<span class="line-numbers"><strong><a href="#n10" name="n10" id="n10">10</a></strong></span>crw-rw----+ 1 root audio    14,   3 2013-03-04 10:01 dsp
<span class="line-numbers"><a href="#n11" name="n11" id="n11">11</a></span>lrwxrwxrwx  1 root root           3 2013-03-04 10:01 dvd -&gt; sr0
<span class="line-numbers"><a href="#n12" name="n12" id="n12">12</a></span>lrwxrwxrwx  1 root root           3 2013-03-04 10:01 dvdrw -&gt; sr0
<span class="line-numbers"><a href="#n13" name="n13" id="n13">13</a></span>crw-rw----  1 root root     10,  61 2013-03-04 10:01 ecryptfs
<span class="line-numbers"><a href="#n14" name="n14" id="n14">14</a></span>crw-rw----  1 root video    29,   0 2013-03-04 10:01 fb0
<span class="line-numbers"><a href="#n15" name="n15" id="n15">15</a></span>lrwxrwxrwx  1 root root          13 2013-03-04 10:01 fd -&gt; /proc/...
<span class="line-numbers"><a href="#n16" name="n16" id="n16">16</a></span>crw-rw-rw-  1 root root      1,   7 2013-03-04 10:01 full
<span class="line-numbers"><a href="#n17" name="n17" id="n17">17</a></span>crw-rw-rw-  1 root fuse     10, 229 2013-03-04 10:01 fuse
<span class="line-numbers"><a href="#n18" name="n18" id="n18">18</a></span>crw-rw----  1 root root    251,   0 2013-03-04 18:14 hidraw0
<span class="line-numbers"><a href="#n19" name="n19" id="n19">19</a></span>crw-rw----  1 root root     10, 228 2013-03-04 10:01 hpet
<span class="line-numbers"><strong><a href="#n20" name="n20" id="n20">20</a></strong></span>drwxr-xr-x  4 root root         380 2013-03-04 18:14 input
<span class="line-numbers"><a href="#n21" name="n21" id="n21">21</a></span>crw-rw----  1 root root      1,  11 2013-03-04 10:01 kmsg
<span class="line-numbers"><a href="#n22" name="n22" id="n22">22</a></span>srw-rw-rw-  1 root root           0 2013-03-04 10:01 log
<span class="line-numbers"><a href="#n23" name="n23" id="n23">23</a></span>brw-rw----  1 root disk      7,   0 2013-03-04 10:01 loop0
<span class="line-numbers"><a href="#n24" name="n24" id="n24">24</a></span>[...]
</pre></div>
</div>
</div>

<h2 id="tocAnchor-1-9">stat</h2>
<p>You can display quite a lot of information of a file with stat:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1" id="n1">1</a></span>moose@pc07:~/Desktop/Test$ stat testfile
<span class="line-numbers"><a href="#n2" name="n2" id="n2">2</a></span>  File: `testfile'
<span class="line-numbers"><a href="#n3" name="n3" id="n3">3</a></span>  Size: 13                Blocks: 8          IO Block: 4096   regular file
<span class="line-numbers"><a href="#n4" name="n4" id="n4">4</a></span>Device: 801h/2049d        Inode: 923339      Links: 1
<span class="line-numbers"><a href="#n5" name="n5" id="n5">5</a></span>Access: (0777/-rwxrwxrwx)  Uid: ( 1000/   moose)   Gid: ( 1000/moose)
<span class="line-numbers"><a href="#n6" name="n6" id="n6">6</a></span>Access: 2013-03-04 21:31:52.154187243 +0100
<span class="line-numbers"><a href="#n7" name="n7" id="n7">7</a></span>Modify: 2013-03-04 21:31:51.154184098 +0100
<span class="line-numbers"><a href="#n8" name="n8" id="n8">8</a></span>Change: 2013-03-04 21:31:51.154184098 +0100
</pre></div>
</div>
</div>

<p>The content of the file is “Hello World.” (12 characters)</p>

<h2 id="tocAnchor-1-10">Attributes</h2>
<p>According to the manpage of chattr:</p>

<blockquote>The `c', 's',  and `u' attributes are not honored by the ext2 and ext3 filesystems as implemented in the current mainline Linux kernels. These attributes may be implemented in future versions of the ext2 and ext3 filesystems.</blockquote>

<h3 id="tocAnchor-1-10-1">Version</h3>
<p>I’ve just learned that you can give files version-attributes:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1" id="n1">1</a></span>moose@pc07:~/Desktop/Test$ lsattr -v
<span class="line-numbers"><a href="#n2" name="n2" id="n2">2</a></span> 1338 -----------------e- ./testfile
</pre></div>
</div>
</div>

<p>You can set the version like this:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1" id="n1">1</a></span>chattr -v 1339 testfile
</pre></div>
</div>
</div>

<h3 id="tocAnchor-1-10-2">Append only</h3>
<p>This one is weird. Theoretically, it should allow me to append to a file, but not to change / delete anything in the file.</p>

<p>First of all, I had to use sudo to add this attribute:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1" id="n1">1</a></span>sudo chattr +a testfile
</pre></div>
</div>
</div>

<p>Then, I had all permissions:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1" id="n1">1</a></span>moose@pc07:~/Desktop/Test$ stat testfile
<span class="line-numbers"> <a href="#n2" name="n2" id="n2">2</a></span>  File: `testfile'
<span class="line-numbers"> <a href="#n3" name="n3" id="n3">3</a></span>  Size: 13                Blocks: 8          IO Block: 4096   regular file
<span class="line-numbers"> <a href="#n4" name="n4" id="n4">4</a></span>Device: 801h/2049d        Inode: 923339      Links: 1
<span class="line-numbers"> <a href="#n5" name="n5" id="n5">5</a></span>Access: (0777/-rwxrwxrwx)  Uid: ( 1000/   moose)   Gid: ( 1000/moose)
<span class="line-numbers"> <a href="#n6" name="n6" id="n6">6</a></span>Access: 2013-03-04 21:31:52.154187243 +0100
<span class="line-numbers"> <a href="#n7" name="n7" id="n7">7</a></span>Modify: 2013-03-04 21:31:51.154184098 +0100
<span class="line-numbers"> <a href="#n8" name="n8" id="n8">8</a></span>Change: 2013-03-04 21:33:55.154184312 +0100
<span class="line-numbers"> <a href="#n9" name="n9" id="n9">9</a></span>moose@pc07:~/Desktop/Test$ lsattr
<span class="line-numbers"><strong><a href="#n10" name="n10" id="n10">10</a></strong></span>-----a-----------e- ./testfile
</pre></div>
</div>
</div>

<p>But I couldn’t append to the file with gedit. With bash, it worked fine:</p>

<div class="highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1" id="n1">1</a></span>moose@pc07:~/Desktop/Test$ echo "One more line " &gt;&gt; testfile
<span class="line-numbers"><a href="#n2" name="n2" id="n2">2</a></span>moose@pc07:~/Desktop/Test$ cat testfile
<span class="line-numbers"><a href="#n3" name="n3" id="n3">3</a></span>Hello World.
<span class="line-numbers"><a href="#n4" name="n4" id="n4">4</a></span>One more line
</pre></div>
</div>
</div>

<p>So I guess I found another bug in gEdit.</p>

<h3 id="tocAnchor-1-10-3">Immutable</h3>
<p>You can mark a file as immutable with <code>sudo chattr +i testfile</code>. It’s funny, you can’t see that with <code>ls -l</code>, you have to use <code>lsattr</code>. I guess if you manage to get root privileges and want to troll somebody, you could set this bit. I think this might take quite a while until you recognize it.</p>

<h3 id="tocAnchor-1-10-4">Secure deletion and undeletable</h3>
<p>When secure deletion is set with <code>chattr +s testfile</code> the operating system overwrites the file with random data when it is deleted.</p>

<p><code>chattr +u testfile</code> makes your file undeletable. This is strange. You can still delete the file with <code>rm</code>, but the system will not overwrite it. I’ve just <a href="http://unix.stackexchange.com/q/66870/4784">asked a question on SE</a>.</p>

<h3 id="tocAnchor-1-10-5">Synchronous update</h3>
<p>when you set <code>chattr +S testfile</code> the file gets directly written to the HDD and not buffered by the kernel cache.</p>

                        </div>
                        <div class="postmeta">Posted in
                            
                                <a href="//martin-thoma.com/category/cyberculture/">cyberculture</a><!--TODO: Displayed category name should be upper case! -->
                             | Tags:
                            
                                
                                    <a href="//martin-thoma.com/tag/linux/">Linux</a>
                                
                            
                                , <a href="//martin-thoma.com/tag/it-security/">IT-Security</a>
                                
                            
                                , <a href="//martin-thoma.com/tag/gedit/">gedit</a>
                                
                            
                                , <a href="//martin-thoma.com/tag/bug/">Bug</a>
                                
                             by <a rel="author" class="vcard author" href="//martin-thoma.com/author/martin-thoma/"><span class="fn">Martin Thoma</span></a> on <span class="updated"><span class="value-title" title="2013-03-04 22:29:42 +0100">
                                March
                                4th
                                  ,
                                2013</span></span></div>

                            <div class="navigation clearfix">
                                <div class="alignleft">
                                
                                    &laquo; <a href="//martin-thoma.com/check-file-systems-maximum-path-depth/" rel="prev">Check File Systems maximum path depth</a>
                                
                                </div>
                                <div class="alignright">
                                
                                    <a href="//martin-thoma.com/latex-beamer/" rel="next">LaTeX Beamer</a> &raquo;
                                
                                </div>
                            </div>

                        </article>
                        <div id="respond">
                            <h3>Leave a Reply</h3>
                                <!-- comment discuss code -->
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'martinthoma'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="//disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    <!-- comment discuss code -->

                        </div>
                    </div>
                </div>
            <div class="span-8 last">
                <div id="subscriptions">
<a href="//martin-thoma.com/feed/"><img src="//martin-thoma.com/css/images/rss.png" alt="Subscribe to RSS Feed" title="Subscribe to RSS Feed" width="72" height="47" /></a>		
<a href="https://twitter.com/#!/themoosemind" title="Follow me on Twitter!"><img src="//martin-thoma.com/css/images/twitter.png" title="Follow me on Twitter!" alt="Follow me on Twitter!"  width="76" height="47" /></a>
</div>

                <div id="sidebar">
                <!-- type: searchbox.html - TODO-->
<ul>
    <li id="search">
        <div class="searchlayout">
            <form method="get" id="searchform" action="//google.com/cse" role="search">
                <input type="hidden" name="cx" value="017345337424948206369:qrnnnentkkk" />
                <input type="search" value="" name="q" id="s" placeholder="Search with Google"/>
                <input type="image" src="//martin-thoma.com/css/images/search.gif" style="border:0; vertical-align: top;" alt="search"/> 
            </form>
        </div>
    </li>
</ul>

                <div class="addthis_toolbox">   
    <div class="custom_images">
            <a href="//twitter.com/share?url=//martin-thoma.com/linux-access-rights-and-attributes&amp;hashtags=linux,it-security,gedit,bug,&amp;via=themoosemind" target="_blank"><img src="//martin-thoma.com/css/images/socialicons/twitter.png" width="32" height="32" alt="Twitter" /></a>
            <a href="//del.icio.us/post?url=//martin-thoma.com/linux-access-rights-and-attributes&amp;title=Linux%20access%20rights%20and%20attributes" target="_blank"><img src="//martin-thoma.com/css/images/socialicons/delicious.png" width="32" height="32" alt="Delicious" /></a>
            <a href="//www.facebook.com/sharer.php?u=//martin-thoma.com/linux-access-rights-and-attributes" target="_blank"><img src="//martin-thoma.com/css/images/socialicons/facebook.png" width="32" height="32" alt="Facebook" /></a>
            <a href="//digg.com/submit?phase=2&amp;url=//martin-thoma.com/linux-access-rights-and-attributes&amp;title=Linux%20access%20rights%20and%20attributes" target="_blank"><img src="//martin-thoma.com/css/images/socialicons/digg.png" width="32" height="32" alt="Digg" /></a>
            <a href="//www.stumbleupon.com/submit?url=//martin-thoma.com/linux-access-rights-and-attributes&amp;title=Linux%20access%20rights%20and%20attributes" target="_blank"><img src="//martin-thoma.com/css/images/socialicons/stumbleupon.png" width="32" height="32" alt="Stumbleupon" /></a>
            <a href="//plusone.google.com/_/+1/confirm?hl=en&amp;url=//martin-thoma.com/linux-access-rights-and-attributes" target="_blank"><img src="//martin-thoma.com/css/images/socialicons/gplus.png" width="32" height="32" alt="Google Plus" /></a>
            <a href="//reddit.com/submit?url=//martin-thoma.com/linux-access-rights-and-attributes&amp;title=Linux%20access%20rights%20and%20attributes" target="_blank"><img src="//martin-thoma.com/css/images/socialicons/reddit.png" width="32" height="32" alt="Reddit" /></a>
    </div>
</div>

                <ul>
                    <li id="categories-3" class="widget widget_categories">
                        <!-- type: categories -->
<h2 class="widgettitle">Categories</h2>
    <ul>
        <li class="cat-item cat-item-11"><a href="//martin-thoma.com/category/code/" title="Tipps for coding in different languages like Python oder C++.">Code</a></li>
        <li class="cat-item cat-item-21"><a href="//martin-thoma.com/category/web/" title="New emerging websites and technologies.">The Web</a></li>
        <li class="cat-item cat-item-31"><a href="//martin-thoma.com/category/cyberculture/" title="Lolcats, planking, Trollfaces, ...">Cyberculture</a></li>
        <li class="cat-item cat-item-3404"><a href="//martin-thoma.com/category/maths/" title="View all posts filed under Mathematics">Mathematics</a></li>
        <li class="cat-item cat-item-881"><a href="//martin-thoma.com/category/bits-and-bytes/" title="Sometimes posts don&#039;t fit in any category.">My bits and bytes</a></li>
        <li class="cat-item cat-item-41"><a href="//martin-thoma.com/category/deutschland/" title="[All Posts here are written in German about German topics] - Die Bahn, unsere Politik und Europa.">German posts</a></li>
	</ul>

                    </li>
                    <li id="tag_cloud-3" class="widget widget_tag_cloud">
                        <h2 class="widgettitle">Tags</h2>
                        <div class="tagcloud"><a style='font-size: 130.31%' href='//martin-thoma.com/tag/ai/' title='9 topics'>AI</a>
<a style='font-size: 102.50%' href='//martin-thoma.com/tag/algebra/' title='6 topics'>Algebra</a>
<a style='font-size: 90.00%' href='//martin-thoma.com/tag/assembly-language/' title='5 topics'>Assembly language</a>
<a style='font-size: 102.50%' href='//martin-thoma.com/tag/bash/' title='6 topics'>Bash</a>
<a style='font-size: 191.61%' href='//martin-thoma.com/tag/c/' title='22 topics'>C</a>
<a style='font-size: 137.54%' href='//martin-thoma.com/tag/cpp/' title='10 topics'>CPP</a>
<a style='font-size: 113.08%' href='//martin-thoma.com/tag/challenge/' title='7 topics'>Challenge</a>
<a style='font-size: 90.00%' href='//martin-thoma.com/tag/chrome/' title='5 topics'>Chrome</a>
<a style='font-size: 137.54%' href='//martin-thoma.com/tag/clip/' title='10 topics'>Clip</a>
<a style='font-size: 90.00%' href='//martin-thoma.com/tag/command-line/' title='5 topics'>Command Line</a>
<a style='font-size: 102.50%' href='//martin-thoma.com/tag/computer-science/' title='6 topics'>Computer science</a>
<a style='font-size: 122.23%' href='//martin-thoma.com/tag/digitaltechnik/' title='8 topics'>Digitaltechnik</a>
<a style='font-size: 102.50%' href='//martin-thoma.com/tag/flashgames/' title='6 topics'>Flashgames</a>
<a style='font-size: 90.00%' href='//martin-thoma.com/tag/geometry/' title='5 topics'>Geometry</a>
<a style='font-size: 130.31%' href='//martin-thoma.com/tag/google/' title='9 topics'>Google</a>
<a style='font-size: 122.23%' href='//martin-thoma.com/tag/google-code-jam/' title='8 topics'>Google Code Jam</a>
<a style='font-size: 90.00%' href='//martin-thoma.com/tag/html5/' title='5 topics'>HTML5</a>
<a style='font-size: 130.31%' href='//martin-thoma.com/tag/it-security/' title='9 topics'>IT-Security</a>
<a style='font-size: 225.38%' href='//martin-thoma.com/tag/java/' title='36 topics'>Java</a>
<a style='font-size: 102.50%' href='//martin-thoma.com/tag/javascript/' title='6 topics'>JavaScript</a>
<a style='font-size: 177.85%' href='//martin-thoma.com/tag/kit/' title='18 topics'>KIT</a>
<a style='font-size: 210.55%' href='//martin-thoma.com/tag/klausur/' title='29 topics'>Klausur</a>
<a style='font-size: 90.00%' href='//martin-thoma.com/tag/kogsys/' title='5 topics'>KogSys</a>
<a style='font-size: 200.38%' href='//martin-thoma.com/tag/latex/' title='25 topics'>LaTeX</a>
<a style='font-size: 177.85%' href='//martin-thoma.com/tag/linear-algebra/' title='18 topics'>Linear algebra</a>
<a style='font-size: 169.77%' href='//martin-thoma.com/tag/linux/' title='16 topics'>Linux</a>
<a style='font-size: 155.53%' href='//martin-thoma.com/tag/machine-learning/' title='13 topics'>Machine Learning</a>
<a style='font-size: 122.23%' href='//martin-thoma.com/tag/matrix/' title='8 topics'>Matrix</a>
<a style='font-size: 90.00%' href='//martin-thoma.com/tag/os/' title='5 topics'>OS</a>
<a style='font-size: 90.00%' href='//martin-thoma.com/tag/operating-systems/' title='5 topics'>Operating Systems</a>
<a style='font-size: 130.31%' href='//martin-thoma.com/tag/php/' title='9 topics'>PHP</a>
<a style='font-size: 90.00%' href='//martin-thoma.com/tag/physics/' title='5 topics'>Physics</a>
<a style='font-size: 237.57%' href='//martin-thoma.com/tag/programming/' title='43 topics'>Programming</a>
<a style='font-size: 130.31%' href='//martin-thoma.com/tag/project-euler/' title='9 topics'>Project Euler</a>
<a style='font-size: 270.00%' href='//martin-thoma.com/tag/python/' title='69 topics'>Python</a>
<a style='font-size: 102.50%' href='//martin-thoma.com/tag/review/' title='6 topics'>Review</a>
<a style='font-size: 130.31%' href='//martin-thoma.com/tag/swt-i/' title='9 topics'>SWT I</a>
<a style='font-size: 90.00%' href='//martin-thoma.com/tag/science/' title='5 topics'>Science</a>
<a style='font-size: 130.31%' href='//martin-thoma.com/tag/theoretical-computer-science/' title='9 topics'>Theoretical computer science</a>
<a style='font-size: 102.50%' href='//martin-thoma.com/tag/tikz/' title='6 topics'>Tikz</a>
<a style='font-size: 90.00%' href='//martin-thoma.com/tag/ubuntu/' title='5 topics'>Ubuntu</a>
<a style='font-size: 155.53%' href='//martin-thoma.com/tag/video/' title='13 topics'>Video</a>
<a style='font-size: 130.31%' href='//martin-thoma.com/tag/vimeo/' title='9 topics'>Vimeo</a>
<a style='font-size: 137.54%' href='//martin-thoma.com/tag/web-development/' title='10 topics'>Web Development</a>
<a style='font-size: 102.50%' href='//martin-thoma.com/tag/wikipedia/' title='6 topics'>Wikipedia</a>
<a style='font-size: 90.00%' href='//martin-thoma.com/tag/windows-7/' title='5 topics'>Windows 7</a>
<a style='font-size: 90.00%' href='//martin-thoma.com/tag/wolfram-alpha/' title='5 topics'>Wolfram|Alpha</a>
<a style='font-size: 144.07%' href='//martin-thoma.com/tag/youtube/' title='11 topics'>YouTube</a>
<a style='font-size: 90.00%' href='//martin-thoma.com/tag/advertising/' title='5 topics'>advertising</a>
<a style='font-size: 122.23%' href='//martin-thoma.com/tag/algorithms/' title='8 topics'>algorithms</a>
<a style='font-size: 113.08%' href='//martin-thoma.com/tag/analysis/' title='7 topics'>analysis</a>
<a style='font-size: 90.00%' href='//martin-thoma.com/tag/cheat-sheet/' title='5 topics'>cheat sheet</a>
<a style='font-size: 165.34%' href='//martin-thoma.com/tag/funny/' title='15 topics'>funny</a>
<a style='font-size: 165.34%' href='//martin-thoma.com/tag/learning/' title='15 topics'>learning</a>
<a style='font-size: 137.54%' href='//martin-thoma.com/tag/lecture-notes/' title='10 topics'>lecture-notes</a>
<a style='font-size: 251.91%' href='//martin-thoma.com/tag/mathematics/' title='53 topics'>mathematics</a>
<a style='font-size: 188.42%' href='//martin-thoma.com/tag/puzzle/' title='21 topics'>puzzle</a>
</div>
                    </li>
                </ul>
                </div>
            </div>
        </div><!--/container-->
            <footer id="footer">
                <a href="//martin-thoma.com"><strong>Martin Thoma</strong></a> -  A blog about Code, the Web and Cyberculture. <br />
                <div class="footer-credits">
                    <a href="http://flexithemes.com/themes/modern-style/">Modern Style</a> theme by <a href="http://flexithemes.com/">FlexiThemes</a>
                </div>
            </footer><!--/footer-->

    </div><!--/wrapper-->
<!-- type: footer -->
<!-- TOC Plus -->
<script type='text/javascript'>
/* <![CDATA[ */
var tocplus = {"visibility_show":"show","visibility_hide":"hide","width":"275px"};
/* ]]> */
</script>
<script type='text/javascript' src="//martin-thoma.com/js/tocplus-front.js"></script>
<script>
(function(){
    'use strict';

    /*
    Create intra-page links
    Requires that your headings already have an `id` attribute set (because that's what jekyll does)
    For every heading in your page, this adds a little anchor link `#` that you can click to get a permalink to the heading.
    Ignores `h1`, because you should only have one per page.
    The text content of the tag is used to generate the link, so it will fail "gracefully-ish" if you have duplicate heading text.

    Credit: https://gist.github.com/SimplGy/a229d25cdb19d7f21231
     */

    var headingNodes = [], results, link,
        tags = ['h2', 'h3', 'h4', 'h5', 'h6'];

    tags.forEach(function(tag){
        var contentTag = document.getElementById('contentAfterTitle');
      results = contentTag.getElementsByTagName(tag);
      Array.prototype.push.apply(headingNodes, results);
    });

    headingNodes.forEach(function(node){
      link = document.createElement('a');
      link.className = 'deepLink';
      link.textContent = ' ¶';
      link.href = '#' + node.getAttribute('id');
      node.appendChild(link);
    });

  })();
</script>
</body>
</html>

